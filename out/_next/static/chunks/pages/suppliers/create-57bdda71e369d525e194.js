_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[73],{J7yb:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/suppliers/create",function(){return t("cBVo")}])},cBVo:function(e,r,t){"use strict";t.r(r);var n=t("nKUr"),a=t("q1tI"),c=t.n(a),i=t("R/WZ"),o=t("Ji2X"),s=t("hlFM"),l=t("sxe4"),u=t("79WI"),b=t("Mya6"),j=t("vJKn"),d=t.n(j),p=t("rg98"),O=t("cpVT"),m=t("z7pX"),f=t("xvhg"),h=t("dhJC"),x=t("30+C"),v=t("oa/T"),y=t("tRbT"),g=t("Z3vd"),w=t("Spdj"),E=t("iae6"),N=t("bgvd"),P=t("iuhU"),C=t("NKQG"),S=t("NKCw"),T=t("UGp+"),k=t("sn/O"),D=t("vDqi"),_=t.n(D);function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach((function(r){Object(O.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var F=Object(i.a)((function(){return{root:{}}})),R=T.c().shape({supplierName:T.e().max(255).required("Required."),email:T.e().email("Invalid email.").max(255),description:T.e().max(255)});var V=function(e){var r=e.className,t=Object(h.a)(e,["className"]),a=F(),i=Object(C.b)().enqueueSnackbar,o=c.a.useState([{value:null}]),l=Object(f.a)(o,2),u=l[0],b=l[1],j=Object(S.useForm)({mode:"all",resolver:Object(N.yupResolver)(R),defaultValues:{supplierName:"",email:"",phonenumber:"",description:"",submitError:""}}),O=j.handleSubmit,T=j.errors,D=j.setError,J=j.setValue,V=j.reset,q=j.formState.isSubmitting;return Object(n.jsx)(S.FormProvider,A(A({},j),{},{children:Object(n.jsx)("form",A(A({className:Object(P.a)(a.root,r),onSubmit:O((function(e){return I.apply(this,arguments)}))},t),{},{children:Object(n.jsx)(x.a,{children:Object(n.jsxs)(v.a,{children:[Object(n.jsxs)(y.a,{container:!0,spacing:3,children:[Object(n.jsx)(y.a,{item:!0,md:8,xs:12,children:Object(n.jsx)(k.a,{name:"supplierName",label:"Name",variant:"outlined",errorObj:T})}),Object(n.jsx)(y.a,{item:!0,md:8,xs:12,children:Object(n.jsx)(k.a,{name:"email",label:"Email Address",variant:"outlined",errorObj:T})}),u.map((function(e,r){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(y.a,{container:!0,spacing:3,item:!0,md:8,xs:12,children:[Object(n.jsx)(y.a,{item:!0,xs:10,children:Object(n.jsx)(k.a,{name:"phonenumber",label:"Phone Number",variant:"outlined",value:e.value||"",onChange:function(e){return function(e,r){var t=Object(m.a)(u);t[e].value=r.target.value,b(t)}(r,e)},errorObj:T})}),Object(n.jsx)(y.a,{item:!0,md:2,xs:2,children:Object(n.jsx)(g.a,{variant:"contained",color:"warning",onClick:function(){return function(e){var r=Object(m.a)(u);r.splice(e,1),b(r)}(r)},disabled:u.length<=1,children:"remove"})})]})})})),Object(n.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(n.jsx)(g.a,{variant:"contained",color:"secondary",onClick:function(){return function(){var e=Object(m.a)(u);e.push({value:null}),b(e)}()},children:"+"})}),Object(n.jsx)(y.a,{item:!0,md:12,xs:12,children:Object(n.jsx)(k.a,{name:"address",label:"Address",variant:"outlined",errorObj:T})}),Object(n.jsx)(y.a,{item:!0,md:12,xs:12,children:Object(n.jsx)(k.a,{name:"description",label:"Description",variant:"outlined",errorObj:T})})]}),T.submitError&&Object(n.jsx)(s.a,{mt:1,display:"flex",justifyContent:"center",children:Object(n.jsx)(w.a,{style:{fontSize:"24px"},error:!0,children:T.submitError.message})}),Object(n.jsx)(s.a,{mt:5,display:"flex",justifyContent:"flex-end",children:q?Object(n.jsx)(E.a,{}):Object(n.jsx)(g.a,{variant:"contained",color:"secondary",type:"submit",disabled:q,children:"Create"})})]})})}))}));function I(){return(I=Object(p.a)(d.a.mark((function e(r){var t,n,a,c,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.supplierName,n=r.email,a=r.description,e.prev=1,c=u.map((function(e){return e.value})),o=c.join(" - "),J("submitError",""),s={supplierName:t,emailaddress:n,phonenumber:o,description:a},e.next=8,_.a.post("".concat("http://localhost:1337","/suppliers/"),s).then((function(){V(),b([{value:null}]),i("Supplier created successfully.",{variant:"success"})})).catch((function(){i("Error creating new Supplier.",{variant:"error"})}));case 8:e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),i("Error creating new customer.",{variant:"error"}),D("submitError",{type:"submit",message:"Error creating new customer."});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}},q=t("1DBx"),I=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),K=[{title:"Dashboard",href:"/dashboard"},{title:"Management",href:"#"},{title:"suppliers",href:"/suppliers"},{title:"Create"}];function W(){var e=I();return Object(n.jsxs)(u.a,{className:e.root,title:"supplier - Create",children:[Object(n.jsx)(o.a,{maxWidth:!1,children:Object(n.jsx)(l.a,{links:K,mainText:"Create supplier"})}),Object(n.jsx)(s.a,{mt:3,children:Object(n.jsx)(o.a,{maxWidth:"lg",children:Object(n.jsx)(V,{})})})]})}W.Guard=b.a,W.Layout=q.a;r.default=W},"oa/T":function(e,r,t){"use strict";var n=t("wx14"),a=t("Ff2n"),c=t("q1tI"),i=(t("17x9"),t("iuhU")),o=t("H2TA"),s=c.forwardRef((function(e,r){var t=e.classes,o=e.className,s=e.component,l=void 0===s?"div":s,u=Object(a.a)(e,["classes","className","component"]);return c.createElement(l,Object(n.a)({className:Object(i.a)(t.root,o),ref:r},u))}));r.a=Object(o.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(s)},"sn/O":function(e,r,t){"use strict";var n=t("nKUr"),a=t("cpVT"),c=t("dhJC"),i=t("ADg1"),o=t("r9w1"),s=t("Spdj"),l=t("NKCw"),u=t("eRyV");function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){Object(a.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.a=function(e){var r=e.name,t=e.label,a=void 0===t?"":t,b=e.helperText,d=void 0===b?"":b,p=e.errorObj,O=void 0===p?{}:p,m=Object(c.a)(e,["name","label","helperText","errorObj"]),f=Object(l.useFormContext)().control,h=Object(l.useController)({name:r,control:f}).field,x=h.ref,v=Object(c.a)(h,["ref"]),y=Object(u.a)(r,O),g=y.isError,w=y.errorMessage;return Object(n.jsxs)(i.a,{fullWidth:!0,error:g,children:[Object(n.jsx)(o.a,j(j({},v),{},{inputRef:x,label:a,fullWidth:!0,error:g},m)),(d||g)&&Object(n.jsx)(s.a,{error:g,children:g?w:d})]})}},z7pX:function(e,r,t){"use strict";t.d(r,"a",(function(){return c}));var n=t("6FTQ");var a=t("8rE2");function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["J7yb",1,0,4,2,3,5,6,7,8,9,10,11,12,13]]]);