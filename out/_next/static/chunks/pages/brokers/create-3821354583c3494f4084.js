_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[46],{"3LTF":function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/brokers/create",function(){return t("Yq4i")}])},Yq4i:function(e,r,t){"use strict";t.r(r);var n=t("nKUr"),a=t("q1tI"),o=t.n(a),i=t("R/WZ"),c=t("Ji2X"),s=t("hlFM"),l=t("sxe4"),b=t("79WI"),u=t("Mya6"),j=t("vJKn"),d=t.n(j),m=t("rg98"),O=t("cpVT"),p=t("z7pX"),f=t("xvhg"),h=t("dhJC"),x=t("30+C"),v=t("oa/T"),y=t("tRbT"),g=t("Z3vd"),w=t("Spdj"),N=t("iae6"),k=t("bgvd"),E=t("iuhU"),P=t("NKQG"),C=t("NKCw"),S=t("UGp+"),T=t("sn/O"),q=t("vDqi"),D=t.n(q);function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach((function(r){Object(O.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var R=Object(i.a)((function(){return{root:{}}})),B=S.c().shape({firstName:S.e().max(255).required("Required."),lastName:S.e().max(255).required("Required."),company:S.e().max(255).required("Required."),position:S.e().max(255),email:S.e().email("Invalid email.").max(255).required("Required."),phonenumber:S.e(),category:S.c(),address:S.e().max(255)});var A=function(e){var r=e.className,t=Object(h.a)(e,["className"]),a=R(),i=o.a.useState([{value:null}]),c=Object(f.a)(i,2),l=c[0],b=c[1],u=Object(P.b)().enqueueSnackbar,j=Object(C.useForm)({mode:"all",resolver:Object(k.yupResolver)(B),defaultValues:{firstName:"",lastName:"",company:"",position:"",email:"",phonenumber:"",category:"",address:"",submitError:""}}),O=j.handleSubmit,S=j.errors,q=j.setError,_=j.setValue,A=j.reset,I=j.formState.isSubmitting;return Object(n.jsx)(C.FormProvider,F(F({},j),{},{children:Object(n.jsx)("form",F(F({className:Object(E.a)(a.root,r),onSubmit:O((function(e){return J.apply(this,arguments)}))},t),{},{children:Object(n.jsx)(x.a,{children:Object(n.jsxs)(v.a,{children:[Object(n.jsxs)(y.a,{container:!0,spacing:3,children:[Object(n.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(T.a,{name:"firstName",label:"First Name",variant:"outlined",errorObj:S})}),Object(n.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(T.a,{name:"lastName",label:"Last Name",variant:"outlined",errorObj:S})}),Object(n.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(T.a,{name:"company",label:"Company Name",variant:"outlined",errorObj:S})}),Object(n.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(T.a,{name:"position",label:"Position",variant:"outlined",errorObj:S})}),l.map((function(e,r){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(y.a,{container:!0,spacing:3,item:!0,md:6,xs:12,children:[Object(n.jsx)(y.a,{item:!0,xs:10,children:Object(n.jsx)(T.a,{name:"phonenumber",label:"Phone Number",variant:"outlined",value:e.value||"",onChange:function(e){return function(e,r){var t=Object(p.a)(l);t[e].value=r.target.value,b(t)}(r,e)},errorObj:S})}),Object(n.jsx)(y.a,{item:!0,md:2,xs:2,children:Object(n.jsx)(g.a,{variant:"contained",color:"warning",onClick:function(){return function(e){var r=Object(p.a)(l);r.splice(e,1),b(r)}(r)},disabled:l.length<=1,children:"remove"})})]})})})),Object(n.jsx)(y.a,{item:!0,md:2,xs:4,children:Object(n.jsx)(g.a,{variant:"contained",color:"secondary",onClick:function(){return function(){var e=Object(p.a)(l);e.push({value:null}),b(e)}()},children:"+"})}),Object(n.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(T.a,{name:"email",label:"Email Address",variant:"outlined",errorObj:S})}),Object(n.jsx)(y.a,{item:!0,md:12,xs:12,children:Object(n.jsx)(T.a,{name:"address",label:"Address",variant:"outlined",errorObj:S})})]}),S.submitError&&Object(n.jsx)(s.a,{mt:1,display:"flex",justifyContent:"center",children:Object(n.jsx)(w.a,{style:{fontSize:"24px"},error:!0,children:S.submitError.message})}),Object(n.jsx)(s.a,{mt:5,display:"flex",justifyContent:"flex-end",children:I?Object(n.jsx)(N.a,{}):Object(n.jsx)(g.a,{variant:"contained",color:"secondary",type:"submit",disabled:I,children:"Create"})})]})})}))}));function J(){return(J=Object(m.a)(d.a.mark((function e(r){var t,n,a,o,i,c,s,b,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.firstName,n=r.lastName,a=r.company,o=r.position,i=r.email,c=r.address,e.prev=1,_("submitError",""),s=l.map((function(e){return e.value})),b=s.join(" - "),_("submitError",""),j={firstname:t,lastname:n,companyname:a,position:o,emailaddress:i,phonenumber:b,address:c},e.next=9,D.a.post("".concat("https://dry-journey-56904.herokuapp.com","/brokers/"),j).then((function(){A(),u("Broker created successfully.",{variant:"success"})})).catch((function(){u("Error creating new Broker.",{variant:"error"})}));case 9:e.sent,A(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u("Error creating new Broker.",{variant:"error"}),q("submitError",{type:"submit",message:"Error creating new broker."});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}},I=t("1DBx"),J=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),K=[{title:"Dashboard",href:"/dashboard"},{title:"Management",href:"#"},{title:"Brokers",href:"/brokers"},{title:"Create"}];function W(){var e=J();return Object(n.jsxs)(b.a,{className:e.root,title:"Brokers - Create",children:[Object(n.jsx)(c.a,{maxWidth:!1,children:Object(n.jsx)(l.a,{links:K,mainText:"Create Broker"})}),Object(n.jsx)(s.a,{mt:3,children:Object(n.jsx)(c.a,{maxWidth:"lg",children:Object(n.jsx)(A,{})})})]})}W.Guard=u.a,W.Layout=I.a;r.default=W},"oa/T":function(e,r,t){"use strict";var n=t("wx14"),a=t("Ff2n"),o=t("q1tI"),i=(t("17x9"),t("iuhU")),c=t("H2TA"),s=o.forwardRef((function(e,r){var t=e.classes,c=e.className,s=e.component,l=void 0===s?"div":s,b=Object(a.a)(e,["classes","className","component"]);return o.createElement(l,Object(n.a)({className:Object(i.a)(t.root,c),ref:r},b))}));r.a=Object(c.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(s)},"sn/O":function(e,r,t){"use strict";var n=t("nKUr"),a=t("cpVT"),o=t("dhJC"),i=t("ADg1"),c=t("r9w1"),s=t("Spdj"),l=t("NKCw"),b=t("eRyV");function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){Object(a.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.a=function(e){var r=e.name,t=e.label,a=void 0===t?"":t,u=e.helperText,d=void 0===u?"":u,m=e.errorObj,O=void 0===m?{}:m,p=Object(o.a)(e,["name","label","helperText","errorObj"]),f=Object(l.useFormContext)().control,h=Object(l.useController)({name:r,control:f}).field,x=h.ref,v=Object(o.a)(h,["ref"]),y=Object(b.a)(r,O),g=y.isError,w=y.errorMessage;return Object(n.jsxs)(i.a,{fullWidth:!0,error:g,children:[Object(n.jsx)(c.a,j(j({},v),{},{inputRef:x,label:a,fullWidth:!0,error:g},p)),(d||g)&&Object(n.jsx)(s.a,{error:g,children:g?w:d})]})}},z7pX:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var n=t("6FTQ");var a=t("8rE2");function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["3LTF",1,0,4,2,3,5,6,7,8,9,10,11,12,13]]]);