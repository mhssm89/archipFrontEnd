_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[45],{CNnQ:function(e,t,r){"use strict";r.r(t);var n=r("vJKn"),a=r.n(n),o=r("rg98"),i=r("nKUr"),s=r("xvhg"),c=r("q1tI"),u=r.n(c),l=r("20a2"),d=r("R/WZ"),b=r("Ji2X"),m=r("hlFM"),p=r("NKQG"),f=r("sxe4"),j=r("Gw4x"),O=r("79WI"),h=r("Mya6"),v=r("cpVT"),g=r("dhJC"),y=r("30+C"),x=r("oa/T"),w=r("tRbT"),k=r("Spdj"),S=r("iae6"),P=r("Z3vd"),E=r("bgvd"),N=r("iuhU"),C=r("NKCw"),T=r("UGp+"),q=r("sn/O"),D=(r("Y8H/"),r("vDqi")),R=r.n(D);r("ZhIB");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){Object(v.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=Object(d.a)((function(){return{root:{}}})),W=T.c().shape({firstName:T.e().max(255).required("Required."),lastName:T.e().max(255).required("Required."),company:T.e().max(255).required("Required."),position:T.e().max(255),email:T.e().email("Invalid email.").max(255),mobilePhone:T.e().min(11).max(11).required("Required."),address:T.e().max(255)});var _=function(e){var t=e.className,r=e.broker,n=Object(g.a)(e,["className","broker"]),s=I(),c=Object(l.useRouter)(),u=Object(p.b)().enqueueSnackbar,d=Object(C.useForm)({mode:"all",resolver:Object(E.yupResolver)(W),defaultValues:{firstName:r.firstname||"",lastName:r.lastname||"",company:r.companyname||"",position:r.position||"",email:r.emailaddress||"",mobilePhone:r.phonenumber||"",address:r.address||"",submitError:""}}),b=d.handleSubmit,f=d.errors,j=d.setError,O=d.setValue,h=(d.reset,d.formState.isSubmitting);return Object(i.jsx)(C.FormProvider,U(U({},d),{},{children:Object(i.jsx)("form",U(U({className:Object(N.a)(s.root,t),onSubmit:b((function(e){return v.apply(this,arguments)}))},n),{},{children:Object(i.jsx)(y.a,{children:Object(i.jsxs)(x.a,{children:[Object(i.jsxs)(w.a,{container:!0,spacing:3,children:[Object(i.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(i.jsx)(q.a,{name:"firstName",label:"First Name",variant:"outlined",errorObj:f})}),Object(i.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(i.jsx)(q.a,{name:"lastName",label:"Last Name",variant:"outlined",errorObj:f})}),Object(i.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(i.jsx)(q.a,{name:"company",label:"Company Name",variant:"outlined",errorObj:f})}),Object(i.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(i.jsx)(q.a,{name:"position",label:"Position",variant:"outlined",errorObj:f})}),Object(i.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(i.jsx)(q.a,{name:"email",label:"Email Address",variant:"outlined",errorObj:f})}),Object(i.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(i.jsx)(q.a,{name:"mobilePhone",label:"Phone Number",variant:"outlined",errorObj:f})}),Object(i.jsx)(w.a,{item:!0,md:12,xs:12,children:Object(i.jsx)(q.a,{name:"address",label:"Address",variant:"outlined",errorObj:f})})]}),f.submitError&&Object(i.jsx)(m.a,{mt:1,display:"flex",justifyContent:"center",children:Object(i.jsx)(k.a,{style:{fontSize:"24px"},error:!0,children:f.submitError.message})}),Object(i.jsx)(m.a,{mt:5,display:"flex",justifyContent:"flex-end",children:h?Object(i.jsx)(S.a,{}):Object(i.jsx)(P.a,{variant:"contained",color:"secondary",type:"submit",disabled:h,children:"Save"})})]})})}))}));function v(){return(v=Object(o.a)(a.a.mark((function e(t){var r,n,o,i,s,l,d,b,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.firstName,n=t.lastName,o=t.company,i=t.position,s=t.email,l=t.mobilePhone,d=t.address,e.prev=1,O("submitError",""),b={firstname:r,lastname:n,companyname:o,position:i,emailaddress:s,phonenumber:l,address:d},m=c.query.brokerId,e.next=7,R.a.put("".concat("http://localhost:1337","/brokers/").concat(m),b).then((function(){u("Edit complete",{variant:"success"})})).catch((function(){u("Error .",{variant:"error"})}));case 7:e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),u("Error .",{variant:"error"}),j("submitError",{type:"submit",message:"Error ."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}},B=r("1DBx"),F=Object(d.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),K=[{title:"Management",href:"#"},{title:"Brokers",href:"/brokers"},{title:"Edit"}];function V(){var e=F(),t=Object(p.b)().enqueueSnackbar,r=Object(l.useRouter)(),n=u.a.useState({}),c=Object(s.a)(n,2),d=c[0],h=c[1],v=u.a.useState(!0),g=Object(s.a)(v,2),y=g[0],x=g[1],w=r.query.brokerId;return u.a.useEffect((function(){!function(){k.apply(this,arguments)}()}),[w]),Object(i.jsx)(i.Fragment,{children:y?Object(i.jsx)(j.a,{}):Object(i.jsxs)(O.a,{className:e.root,title:"Brokers - Edit",children:[Object(i.jsx)(b.a,{maxWidth:!1,children:Object(i.jsx)(f.a,{links:K,mainText:"Edit Broker"})}),Object(i.jsx)(m.a,{mt:3,children:Object(i.jsx)(b.a,{maxWidth:"lg",children:Object(i.jsx)(_,{broker:d})})})]})});function k(){return(k=Object(o.a)(a.a.mark((function e(){var n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.query.brokerId,e.next=4,R.a.get("".concat("http://localhost:1337","/brokers/").concat(n));case 4:o=e.sent,h(o.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error has been occurred.",{variant:"error"});case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}}V.Guard=h.a,V.Layout=B.a;t.default=V},Gw4x:function(e,t,r){"use strict";var n=r("nKUr"),a=r("q1tI"),o=r("R/WZ"),i=r("hlFM"),s=r("de8u"),c=r("Mj6V"),u=r.n(c),l=Object(o.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.background.default,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",minHeight:"100%",padding:e.spacing(3)}}}));t.a=function(){var e=l();return Object(a.useEffect)((function(){return u.a.start(),function(){u.a.done()}}),[]),Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(i.a,{width:400,children:Object(n.jsx)(s.a,{})})})}},Mj6V:function(e,t,r){var n,a;void 0===(a="function"===typeof(n=function(){var e={version:"0.2.0"},t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(e,t,r){return e<t?t:e>r?r:e}function n(e){return 100*(-1+e)}function a(e,r,a){var o;return(o="translate3d"===t.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===t.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"}).transition="all "+r+"ms "+a,o}e.configure=function(e){var r,n;for(r in e)void 0!==(n=e[r])&&e.hasOwnProperty(r)&&(t[r]=n);return this},e.status=null,e.set=function(n){var s=e.isStarted();n=r(n,t.minimum,1),e.status=1===n?null:n;var c=e.render(!s),u=c.querySelector(t.barSelector),l=t.speed,d=t.easing;return c.offsetWidth,o((function(r){""===t.positionUsing&&(t.positionUsing=e.getPositioningCSS()),i(u,a(n,l,d)),1===n?(i(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){i(c,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){e.remove(),r()}),l)}),l)):setTimeout(r,l)})),this},e.isStarted=function(){return"number"===typeof e.status},e.start=function(){e.status||e.set(0);var r=function(){setTimeout((function(){e.status&&(e.trickle(),r())}),t.trickleSpeed)};return t.trickle&&r(),this},e.done=function(t){return t||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(t){var n=e.status;return n?("number"!==typeof t&&(t=(1-n)*r(Math.random()*n,.1,.95)),n=r(n+t,0,.994),e.set(n)):e.start()},e.trickle=function(){return e.inc(Math.random()*t.trickleRate)},function(){var t=0,r=0;e.promise=function(n){return n&&"resolved"!==n.state()?(0===r&&e.start(),t++,r++,n.always((function(){0===--r?(t=0,e.done()):e.set((t-r)/t)})),this):this}}(),e.render=function(r){if(e.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var a=document.createElement("div");a.id="nprogress",a.innerHTML=t.template;var o,s=a.querySelector(t.barSelector),u=r?"-100":n(e.status||0),l=document.querySelector(t.parent);return i(s,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),t.showSpinner||(o=a.querySelector(t.spinnerSelector))&&d(o),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(a),a},e.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(t.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&d(e)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var o=function(){var e=[];function t(){var r=e.shift();r&&r(t)}return function(r){e.push(r),1==e.length&&t()}}(),i=function(){var e=["Webkit","O","Moz","ms"],t={};function r(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function n(t){var r=document.body.style;if(t in r)return t;for(var n,a=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);a--;)if((n=e[a]+o)in r)return n;return t}function a(e){return e=r(e),t[e]||(t[e]=n(e))}function o(e,t,r){t=a(t),e.style[t]=r}return function(e,t){var r,n,a=arguments;if(2==a.length)for(r in t)void 0!==(n=t[r])&&t.hasOwnProperty(r)&&o(e,r,n);else o(e,a[1],a[2])}}();function s(e,t){return("string"==typeof e?e:l(e)).indexOf(" "+t+" ")>=0}function c(e,t){var r=l(e),n=r+t;s(r,t)||(e.className=n.substring(1))}function u(e,t){var r,n=l(e);s(e,t)&&(r=n.replace(" "+t+" "," "),e.className=r.substring(1,r.length-1))}function l(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e})?n.call(t,r,t,e):n)||(e.exports=a)},"Y8H/":function(e,t,r){"use strict";var n=r("nKUr"),a=r("cpVT"),o=r("dhJC"),i=r("ADg1"),s=r("r9w1"),c=r("Spdj"),u=r("+bXu"),l=r("NKCw"),d=r("eRyV");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.name,r=e.label,a=void 0===r?"":r,b=e.options,p=e.errorObj,f=void 0===p?{}:p,j=Object(o.a)(e,["name","label","options","errorObj"]),O=Object(l.useFormContext)().control,h=Object(l.useController)({name:t,control:O}).field,v=h.ref,g=h.onChange,y=Object(o.a)(h,["ref","onChange"]),x=Object(d.a)(t,f),w=x.isError,k=x.errorMessage;return Object(n.jsxs)(i.a,{fullWidth:!0,error:w,children:[Object(n.jsx)(u.a,m(m({},y),{},{ref:v,options:b,onChange:function(e,t){return g(t)},getOptionLabel:function(e){return e.label},getOptionSelected:function(e,t){return e.value==t.value},renderOption:function(e){return Object(n.jsx)("span",{children:e.label})},renderInput:function(e){return Object(n.jsx)(s.a,m(m({},e),{},{label:a,variant:"outlined",error:w}))}},j)),w&&Object(n.jsx)(c.a,{error:!0,children:k})]})}},"oa/T":function(e,t,r){"use strict";var n=r("wx14"),a=r("Ff2n"),o=r("q1tI"),i=(r("17x9"),r("iuhU")),s=r("H2TA"),c=o.forwardRef((function(e,t){var r=e.classes,s=e.className,c=e.component,u=void 0===c?"div":c,l=Object(a.a)(e,["classes","className","component"]);return o.createElement(u,Object(n.a)({className:Object(i.a)(r.root,s),ref:t},l))}));t.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(c)},sUDS:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/brokers/[brokerId]/edit",function(){return r("CNnQ")}])},"sn/O":function(e,t,r){"use strict";var n=r("nKUr"),a=r("cpVT"),o=r("dhJC"),i=r("ADg1"),s=r("r9w1"),c=r("Spdj"),u=r("NKCw"),l=r("eRyV");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.name,r=e.label,a=void 0===r?"":r,d=e.helperText,m=void 0===d?"":d,p=e.errorObj,f=void 0===p?{}:p,j=Object(o.a)(e,["name","label","helperText","errorObj"]),O=Object(u.useFormContext)().control,h=Object(u.useController)({name:t,control:O}).field,v=h.ref,g=Object(o.a)(h,["ref"]),y=Object(l.a)(t,f),x=y.isError,w=y.errorMessage;return Object(n.jsxs)(i.a,{fullWidth:!0,error:x,children:[Object(n.jsx)(s.a,b(b({},g),{},{inputRef:v,label:a,fullWidth:!0,error:x},j)),(m||x)&&Object(n.jsx)(c.a,{error:x,children:x?w:m})]})}}},[["sUDS",1,0,4,2,3,5,6,7,8,9,10,11,12,13,15,17]]]);