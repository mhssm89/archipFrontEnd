_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[51],{"2UB4":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/category",function(){return r("HAet")}])},"50B7":function(e,t,r){"use strict";var a=r("wx14"),n=r("Ff2n"),c=r("q1tI"),o=(r("17x9"),r("iuhU")),s=r("H2TA"),i=r("ofer"),l=c.forwardRef((function(e,t){var r=e.action,s=e.avatar,l=e.classes,u=e.className,j=e.component,b=void 0===j?"div":j,d=e.disableTypography,O=void 0!==d&&d,p=e.subheader,m=e.subheaderTypographyProps,f=e.title,g=e.titleTypographyProps,h=Object(n.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),y=f;null==y||y.type===i.a||O||(y=c.createElement(i.a,Object(a.a)({variant:s?"body2":"h5",className:l.title,component:"span",display:"block"},g),y));var x=p;return null==x||x.type===i.a||O||(x=c.createElement(i.a,Object(a.a)({variant:s?"body2":"body1",className:l.subheader,color:"textSecondary",component:"span",display:"block"},m),x)),c.createElement(b,Object(a.a)({className:Object(o.a)(l.root,u),ref:t},h),s&&c.createElement("div",{className:l.avatar},s),c.createElement("div",{className:l.content},y,x),r&&c.createElement("div",{className:l.action},r))}));t.a=Object(s.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(l)},Fn3X:function(e,t,r){"use strict";var a=r("q1tI"),n=r.n(a),c=r("17x9"),o=r.n(c);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=Object(a.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,c=e.size,o=void 0===c?24:c,l=i(e,["color","size"]);return n.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));l.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},l.displayName="Edit",t.a=l},G5e0:function(e,t,r){"use strict";var a=r("q1tI"),n=r.n(a),c=r("17x9"),o=r.n(c);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=Object(a.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,c=e.size,o=void 0===c?24:c,l=i(e,["color","size"]);return n.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),n.a.createElement("polyline",{points:"12 19 5 12 12 5"}))}));l.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},l.displayName="ArrowLeft",t.a=l},HAet:function(e,t,r){"use strict";r.r(t);var a=r("nKUr"),n=r("q1tI"),c=r.n(n),o=r("R/WZ"),s=r("Ji2X"),i=r("hlFM"),l=r("sxe4"),u=r("79WI"),j=r("Mya6"),b=r("z7pX"),d=r("cpVT"),O=r("vJKn"),p=r.n(O),m=r("rg98"),f=r("xvhg"),g=r("dhJC"),h=r("30+C"),y=r("50B7"),x=r("wb2y"),v=r("tRbT"),w=r("Z3vd"),P=r("bgvd"),k=r("iuhU"),N=r("NKQG"),C=r("NKCw"),E=r("UGp+"),S=r("Txxr"),I=r("sn/O"),D=r("vDqi"),T=r.n(D),q=r("/EAt"),R=r("Imu7"),F=r("sRsu"),L=r("3PeG"),M=r("VmPI"),z=r("iae6"),A=r("Uf6+"),_=r("PsDL"),B=r("HR5l"),H=r("ELmG"),W=r("kfFl"),G=r("Fn3X"),U=r("KcsI"),J=r("cuOD"),V=r.n(J),X=r("2Wm+"),K=r("IIOH"),Z=r("1NhI"),Q=r("ofer"),Y=r("JoNN"),$=r("wHH0");function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re=Object(o.a)((function(e){return{root:{padding:e.spacing(2)},actions:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > * + *":{marginLeft:e.spacing(2)}}}}));var ae=function(e){var t=e.className,r=e.onDelete,n=void 0===r?function(){}:r,c=e.onMarkActive,o=void 0===c?function(){}:c,s=e.onMarkInactive,i=void 0===s?function(){}:s,l=e.open,u=void 0!==l&&l,j=e.selected,b=e.isLoading,d=void 0!==b&&b,O=Object(g.a)(e,["className","onDelete","onMarkActive","onMarkInactive","open","selected","isLoading"]),p=re();return Object(a.jsx)(K.a,{anchor:"bottom",open:u,PaperProps:{elevation:1},variant:"persistent",children:Object(a.jsx)("div",te(te({className:Object(k.a)(p.root,t)},O),{},{children:Object(a.jsxs)(v.a,{alignItems:"center",container:!0,spacing:2,children:[Object(a.jsx)(Z.a,{smDown:!0,children:Object(a.jsx)(v.a,{item:!0,md:3,children:Object(a.jsxs)(Q.a,{color:"textSecondary",variant:"subtitle1",children:[j.length," selected"]})})}),Object(a.jsx)(v.a,{item:!0,md:6,xs:12,children:Object(a.jsx)("div",{className:p.actions,children:d?Object(a.jsx)(z.a,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.a,{onClick:o,startIcon:Object(a.jsx)(B.a,{fontSize:"small",children:Object(a.jsx)(Y.a,{})}),children:"Mark Active"}),Object(a.jsx)(w.a,{onClick:i,startIcon:Object(a.jsx)(B.a,{fontSize:"small",children:Object(a.jsx)($.a,{})}),children:"Mark Inactive"}),Object(a.jsx)(w.a,{onClick:n,startIcon:Object(a.jsx)(B.a,{fontSize:"small",children:Object(a.jsx)(U.a,{})}),children:"Delete"})]})})})]})}))})},ne=r("G5e0");function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se=Object(o.a)((function(){return{root:{},inputForm:{margin:"auto"},submitbutton:{width:"90%"},result:{marginTop:"20px",margin:"auto"}}})),ie=E.c().shape({CategoryNameEdit:E.e().max(255).required("Required.")});var le=function(e){var t=e.className,r=e.seteditdialoug,n=e.editCategory,c=e.setCategory,o=e.category,s=Object(g.a)(e,["className","seteditdialoug","editCategory","setCategory","category"]),i=se(),l=Object(N.b)().enqueueSnackbar,u=Object(C.useForm)({mode:"all",resolver:Object(P.yupResolver)(ie),defaultValues:{CategoryNameEdit:n.category}}),j=u.handleSubmit,d=u.errors,O=u.setError,f=u.setValue,E=(u.reset,u.formState.isSubmitting);return Object(a.jsx)(C.FormProvider,oe(oe({},u),{},{children:Object(a.jsx)("form",oe(oe({className:Object(k.a)(i.root,t),onSubmit:j((function(e){return S.apply(this,arguments)}))},s),{},{children:Object(a.jsxs)(h.a,oe(oe({className:Object(k.a)(i.root,t)},s),{},{children:[Object(a.jsx)(y.a,{title:"Edit Category"}),Object(a.jsx)(x.a,{}),Object(a.jsxs)(v.a,{container:!0,spacing:2,className:i.inputForm,alignItems:"center",children:[Object(a.jsx)(v.a,{item:!0,md:8,xs:12,children:Object(a.jsx)(I.a,{name:"CategoryNameEdit",label:"Category",variant:"outlined",errorObj:d})}),Object(a.jsx)(v.a,{item:!0,md:4,xs:12,children:Object(a.jsx)(w.a,{variant:"contained",color:"secondary",type:"submit",className:i.submitbutton,disabled:E,children:"Edit"})}),Object(a.jsx)(v.a,{item:!0,container:!0,spacing:2,xs:12,justify:"flex-end",children:Object(a.jsx)(w.a,{style:{margin:"2%"},variant:"outlined",color:"secondary",onClick:function(){r(!1)},startIcon:Object(a.jsx)(ne.a,{fontSize:"small"}),children:"Back"})})]})]}))}))}));function S(){return(S=Object(m.a)(p.a.mark((function e(t){var a,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.CategoryNameEdit,e.prev=1,f("submitError",""),s={category:a},i=T.a.put("".concat("https://dry-journey-56904.herokuapp.com","/customer-categories/").concat(n.id),s),e.t0=c,e.t1=[],e.t2=Object(b.a)(o.filter((function(e){return e.id!=n.id}))),e.next=10,i;case 10:e.t3=e.sent.data,e.t4=[e.t3],e.t5=e.t1.concat.call(e.t1,e.t2,e.t4),(0,e.t0)(e.t5),r(!1),l("Done edit",{variant:"success"}),e.next=22;break;case 18:e.prev=18,e.t6=e.catch(1),l("Error edit customer Category.",{variant:"error"}),O("submitError",{type:"submit",message:"Error creating new customer category."});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var be=Object(o.a)((function(){return{root:{},inputForm:{margin:"auto"},submitbutton:{width:"90%"},result:{marginTop:"20px",margin:"auto"}}}));E.c().shape({categoryName:E.e().max(255).required("Required.")});var de=function(e){var t=e.className,r=e.query,n=e.setCategory,o=(e.setvalue,Object(g.a)(e,["className","query","setCategory","setvalue"])),s=be(),l=Object(N.b)().enqueueSnackbar,u=c.a.useState(!1),j=Object(f.a)(u,2),d=j[0],O=(j[1],c.a.useState(!1)),p=Object(f.a)(O,2),m=p[0],y=p[1],x=c.a.useState([]),v=Object(f.a)(x,2),w=v[0],P=v[1],C=Object(X.a)({query:r}),E=C.selectedItems,S=C.isAllItemsSelected,I=C.isSomeItemsSelected,D=C.page,J=C.limit,K=C.hasNext,Z=C.hasPrev,Q=C.isLoading,Y=(C.setItems,C.setSelectedItems,C.enableBulkOperations),$=C.handleSelectAllItems,ee=C.handleSelectOneItem,te=C.handlePageChange,re=C.handleLimitChange;return Object(a.jsxs)("div",je(je({className:Object(k.a)(s.root,t)},o),{},{children:[Object(a.jsxs)(h.a,{children:[Object(a.jsx)(V.a,{children:Object(a.jsx)(i.a,{minWidth:700,children:Object(a.jsxs)(q.a,{children:[Object(a.jsx)(R.a,{children:Object(a.jsxs)(F.a,{children:[Object(a.jsx)(L.a,{padding:"checkbox",children:Object(a.jsx)(M.a,{checked:S,indeterminate:I,onChange:$})}),Object(a.jsx)(L.a,{children:"Category Name"}),Object(a.jsx)(L.a,{align:"right",children:"Action"})]})}),Q?Object(a.jsx)(i.a,{display:"flex",justifyContent:"center",mt:4,children:Object(a.jsx)(z.a,{})}):Object(a.jsx)(A.a,{children:r.map((function(e){var t=E.includes(e.id);return Object(a.jsxs)(F.a,{hover:!0,selected:-1!==E.indexOf(e.id),children:[Object(a.jsx)(L.a,{padding:"checkbox",children:Object(a.jsx)(M.a,{checked:t,onChange:function(t){return ee(t,e.id)},value:t})}),Object(a.jsx)(L.a,{children:e.category}),Object(a.jsxs)(L.a,{align:"right",children:[Object(a.jsx)(_.a,{onClick:function(){y(!0),P({id:e.id,category:e.category})},children:Object(a.jsx)(B.a,{fontSize:"small",children:Object(a.jsx)(G.a,{})})}),Object(a.jsx)(_.a,{onClick:function(){var t;t=e.id,T.a.put("".concat("https://dry-journey-56904.herokuapp.com","/customer-categories/").concat(t),{isDeleted:1}).then((function(){n(Object(b.a)(r.filter((function(e){return e.id!=t})))),l("deleted",{variant:"error"})}))},children:Object(a.jsx)(B.a,{fontSize:"small",children:Object(a.jsx)(U.a,{})})})]})]},e.id)}))})]})})}),Object(a.jsx)(H.a,{component:"div",count:-1,onChangePage:te,onChangeRowsPerPage:re,page:D,rowsPerPage:J,rowsPerPageOptions:[5,10,25],nextIconButtonProps:{disabled:!K},backIconButtonProps:{disabled:!Z},labelDisplayedRows:function(e){var t=e.from;return 0==r.length?"0-0":"".concat(t,"-").concat(t+r.length-1)}})]}),Object(a.jsx)(ae,{open:Y,selected:E,isLoading:d,onMarkActive:function(){},onMarkInactive:function(){},onDelete:function(){}}),Object(a.jsx)(W.a,{open:m,children:Object(a.jsx)(le,{seteditdialoug:y,editCategory:w,setCategory:n,category:r})})]}))};function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me=Object(o.a)((function(){return{root:{},inputForm:{margin:"auto"},submitbutton:{width:"90%"},result:{marginTop:"20px",margin:"auto"}}})),fe=E.c().shape({categoryName:E.e().max(255).required("Required.")});var ge=function(e){var t=e.className,r=Object(g.a)(e,["className"]),n=me(),o=Object(N.b)().enqueueSnackbar,s=Object(S.a)(),l=c.a.useState([]),u=Object(f.a)(l,2),j=u[0],d=u[1],O=c.a.useState([0]),E=Object(f.a)(O,2),D=(E[0],E[1],Object(C.useForm)({mode:"all",resolver:Object(P.yupResolver)(fe),defaultValues:{categoryName:""}})),q=D.handleSubmit,R=D.errors,F=D.setError,L=D.setValue,M=D.reset,z=D.formState.isSubmitting,A=c.a.useCallback(Object(m.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat("https://dry-journey-56904.herokuapp.com","/customer-categories?_where[isDeleted]=0"));case 3:t=e.sent,r=t.data,s.current&&d(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[s]);return c.a.useEffect((function(){A()}),[]),Object(a.jsx)(C.FormProvider,pe(pe({},D),{},{children:Object(a.jsxs)("form",pe(pe({className:Object(k.a)(n.root,t),onSubmit:q((function(e){return _.apply(this,arguments)}))},r),{},{children:[Object(a.jsxs)(h.a,pe(pe({className:Object(k.a)(n.root,t)},r),{},{children:[Object(a.jsx)(y.a,{title:"New Customer Category"}),Object(a.jsx)(x.a,{}),Object(a.jsxs)(v.a,{container:!0,spacing:2,className:n.inputForm,alignItems:"center",children:[Object(a.jsx)(v.a,{item:!0,md:4,xs:12,children:Object(a.jsx)(I.a,{name:"categoryName",label:"Category",variant:"outlined",errorObj:R})}),Object(a.jsx)(v.a,{item:!0,md:2,xs:12,children:Object(a.jsx)(w.a,{variant:"contained",color:"secondary",type:"submit",className:n.submitbutton,disabled:z,children:"ADD"})})]})]})),Object(a.jsxs)(h.a,{className:Object(k.a)(n.result,t),children:[Object(a.jsx)(y.a,{title:"Aviliable Customer category"}),Object(a.jsx)(x.a,{}),Object(a.jsx)(i.a,{mt:3,children:Object(a.jsx)(de,{query:j,setCategory:d,setvalue:L})})]})]}))}));function _(){return(_=Object(m.a)(p.a.mark((function e(t){var r,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.categoryName,e.prev=1,L("submitError",""),a={category:r},n=T.a.post("".concat("https://dry-journey-56904.herokuapp.com","/customer-categories"),a),e.t0=d,e.t1=[],e.t2=Object(b.a)(j),e.next=10,n;case 10:e.t3=e.sent.data,e.t4=[e.t3],e.t5=e.t1.concat.call(e.t1,e.t2,e.t4),(0,e.t0)(e.t5),M(),o("Customer category successfully created",{variant:"success"}),e.next=22;break;case 18:e.prev=18,e.t6=e.catch(1),o("Error creating new customer Category.",{variant:"error"}),F("submitError",{type:"submit",message:"Error creating new customer category."});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}},he=r("1DBx"),ye=Object(o.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),xe=[{title:"Dashboard",href:"/dashboard"},{title:"Management",href:"#"},{title:"Customers",href:"/customers"},{title:"Category"}];function ve(){var e=ye();return Object(a.jsxs)(u.a,{className:e.root,title:"Customers - Category",children:[Object(a.jsx)(s.a,{maxWidth:!1,children:Object(a.jsx)(l.a,{links:xe,mainText:"Mange Customers Category"})}),Object(a.jsx)(i.a,{mt:3,children:Object(a.jsx)(s.a,{maxWidth:"lg",children:Object(a.jsx)(ge,{})})})]})}ve.Guard=j.a,ve.Layout=he.a;t.default=ve},Txxr:function(e,t,r){"use strict";var a=r("q1tI");t.a=function(){var e=Object(a.useRef)(!0);return Object(a.useEffect)((function(){return function(){e.current=!1}}),[]),e}}},[["2UB4",1,0,4,2,3,5,6,7,8,9,10,11,12,13,14,16]]]);