_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[43],{"/qGT":function(e,t,r){"use strict";var a=r("q1tI"),n=r("5AJ6");t.a=Object(n.a)(a.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},"50B7":function(e,t,r){"use strict";var a=r("wx14"),n=r("Ff2n"),s=r("q1tI"),c=(r("17x9"),r("iuhU")),i=r("H2TA"),o=r("ofer"),l=s.forwardRef((function(e,t){var r=e.action,i=e.avatar,l=e.classes,u=e.className,b=e.component,d=void 0===b?"div":b,j=e.disableTypography,p=void 0!==j&&j,m=e.subheader,O=e.subheaderTypographyProps,f=e.title,h=e.titleTypographyProps,y=Object(n.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),v=f;null==v||v.type===o.a||p||(v=s.createElement(o.a,Object(a.a)({variant:i?"body2":"h5",className:l.title,component:"span",display:"block"},h),v));var x=m;return null==x||x.type===o.a||p||(x=s.createElement(o.a,Object(a.a)({variant:i?"body2":"body1",className:l.subheader,color:"textSecondary",component:"span",display:"block"},O),x)),s.createElement(d,Object(a.a)({className:Object(c.a)(l.root,u),ref:t},y),i&&s.createElement("div",{className:l.avatar},i),s.createElement("div",{className:l.content},v,x),r&&s.createElement("div",{className:l.action},r))}));t.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(l)},cdae:function(e,t,r){"use strict";r.r(t);var a=r("nKUr"),n=r("xvhg"),s=r("q1tI"),c=r.n(s),i=r("R/WZ"),o=r("Ji2X"),l=r("hlFM"),u=r("dfam"),b=r("JrkS"),d=r("wb2y"),j=r("sxe4"),p=r("79WI"),m=r("Mya6"),O=r("vJKn"),f=r.n(O),h=r("rg98"),y=r("cpVT"),v=r("dhJC"),x=r("jT3O"),g=r("30+C"),w=r("50B7"),P=r("oa/T"),k=r("tRbT"),E=r("Spdj"),S=r("iae6"),N=r("Z3vd"),D=r("VX74"),C=r("bgvd"),T=r("iuhU"),q=r("NKQG"),R=r("NKCw"),U=r("UGp+"),I=r("sn/O"),_=r("G57S");function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(){var e=Object(x.a)(["\n  mutation UPDATE_USER($input: updateUserInput) {\n    updateUser(input: $input) {\n      user {\n        id\n        name\n        username\n        email\n        role {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return F=function(){return e},e}var J=Object(i.a)((function(){return{root:{}}})),z=U.c().shape({name:U.e().max(200).required("Required"),email:U.e().email("Invalid email.").required("Required.")}),K=Object(D.gql)(F());var V=function(e){var t=e.className,r=Object(v.a)(e,["className"]),s=J(),c=Object(_.a)(),i=c.user,o=c.updateUser,u=Object(D.useMutation)(K),b=Object(n.a)(u,2),j=b[0],p=b[1].loading,m=Object(q.b)().enqueueSnackbar,O=Object(R.useForm)({mode:"all",resolver:Object(C.yupResolver)(z),defaultValues:{name:i.name||"",email:i.email||"",submitError:null}}),y=O.handleSubmit,x=O.errors,U=O.setError,A=O.setValue,F=O.formState.isDirty;return Object(a.jsx)(R.FormProvider,M(M({},O),{},{children:Object(a.jsx)("form",{onSubmit:y((function(e){return V.apply(this,arguments)})),children:Object(a.jsxs)(g.a,M(M({className:Object(T.a)(s.root,t)},r),{},{children:[Object(a.jsx)(w.a,{title:"Profile"}),Object(a.jsx)(d.a,{}),Object(a.jsxs)(P.a,{children:[Object(a.jsxs)(k.a,{container:!0,spacing:4,children:[Object(a.jsx)(k.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(I.a,{name:"name",label:"Name",variant:"outlined",errorObj:x,fullWidth:!0})}),Object(a.jsx)(k.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(I.a,{type:"email",name:"email",label:"Email Address",variant:"outlined",errorObj:x,disabled:!0,fullWidth:!0})})]}),x.submitError&&Object(a.jsx)(l.a,{mt:1,display:"flex",justifyContent:"center",children:Object(a.jsx)(E.a,{style:{fontSize:"18px"},error:!0,children:x.submitError.message})})]}),Object(a.jsx)(d.a,{}),Object(a.jsx)(l.a,{p:2,display:"flex",justifyContent:"flex-end",children:p?Object(a.jsx)(S.a,{}):Object(a.jsx)(N.a,{variant:"contained",color:"secondary",type:"submit",children:"Save Changes"})})]}))})}));function V(){return(V=Object(h.a)(f.a.mark((function e(t){var r,a,n,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,e.prev=1,A("submitError",""),F){e.next=6;break}return m("No data changes.",{variant:"info"}),e.abrupt("return");case 6:return a={where:{id:i.id},data:{name:r}},e.next=9,j({variables:{input:a}});case 9:return n=e.sent,s=n.data,e.next=13,o(s.updateUser.user);case 13:m("User settings updated.",{variant:"success"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),m("Error updating user settings.",{variant:"error"}),U("submitError",{type:"submit",message:"Error updating user settings."});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}},W=r("20a2");function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(){var e=Object(x.a)(["\n  mutation UPDATE_USER($input: updateUserInput) {\n    updateUser(input: $input) {\n      user {\n        id\n        name\n        username\n        email\n        role {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return $=function(){return e},e}var H=Object(i.a)((function(){return{root:{}}})),L=U.c().shape({password:U.e().min(7,"Must be at least 7 characters").max(255).required("Required."),passwordConfirm:U.e().oneOf([U.d("password"),null],"Passwords don't match.").required("Required.")}),X=Object(D.gql)($());var Z=function(e){var t=e.className,r=Object(v.a)(e,["className"]),s=H(),c=Object(_.a)(),i=c.user,o=c.logout,u=Object(W.useRouter)(),b=Object(D.useApolloClient)(),j=Object(D.useMutation)(X),p=Object(n.a)(j,2),m=p[0],O=p[1].loading,y=Object(q.b)().enqueueSnackbar,x=Object(R.useForm)({mode:"all",resolver:Object(C.yupResolver)(L),defaultValues:{password:"",passwordConfirm:"",submitError:null}}),U=x.handleSubmit,A=x.errors,M=x.setError,F=x.setValue,J=x.formState.isDirty;return Object(a.jsx)(R.FormProvider,B(B({},x),{},{children:Object(a.jsx)("form",{onSubmit:U((function(e){return z.apply(this,arguments)})),children:Object(a.jsxs)(g.a,B(B({className:Object(T.a)(s.root,t)},r),{},{children:[Object(a.jsx)(w.a,{title:"Change Password"}),Object(a.jsx)(d.a,{}),Object(a.jsxs)(P.a,{children:[Object(a.jsxs)(k.a,{container:!0,spacing:4,children:[Object(a.jsx)(k.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(I.a,{type:"password",name:"password",label:"New Password",variant:"outlined",errorObj:A})}),Object(a.jsx)(k.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(I.a,{type:"password",name:"passwordConfirm",label:"New Password Confirmation",variant:"outlined",errorObj:A})})]}),A.submitError&&Object(a.jsx)(l.a,{mt:1,display:"flex",justifyContent:"center",children:Object(a.jsx)(E.a,{style:{fontSize:"18px"},error:!0,children:A.submitError.message})})]}),Object(a.jsx)(d.a,{}),Object(a.jsx)(l.a,{p:2,display:"flex",justifyContent:"flex-end",children:O?Object(a.jsx)(S.a,{}):Object(a.jsx)(N.a,{variant:"contained",color:"secondary",type:"submit",children:"Change Password"})})]}))})}));function z(){return(z=Object(h.a)(f.a.mark((function e(t){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.password,e.prev=1,F("submitError",""),J){e.next=6;break}return y("No data changes.",{variant:"info"}),e.abrupt("return");case 6:return a={where:{id:i.id},data:{password:r}},e.next=9,m({variables:{input:a}});case 9:return y("Password changed successfully. Please login again.",{variant:"success"}),b.clearStore(),e.next=13,o((function(){return u.push("/login")}));case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),y("Error changing password.",{variant:"error"}),M("submitError",{type:"submit",message:"Error changing password."});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}},Q=r("1DBx"),Y=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),ee=[{title:"Dashboard",href:"/dashboard"},{title:"Account"}];function te(){var e=Y(),t=c.a.useState("general"),r=Object(n.a)(t,2),s=r[0],i=r[1];return Object(a.jsx)(p.a,{className:e.root,title:"Settings",children:Object(a.jsxs)(o.a,{maxWidth:"lg",children:[Object(a.jsx)(j.a,{links:ee,mainText:"Settings"}),Object(a.jsx)(l.a,{mt:3,children:Object(a.jsx)(u.a,{onChange:function(e,t){i(t)},scrollButtons:"auto",value:s,variant:"scrollable",textColor:"secondary",children:[{value:"general",label:"General"},{value:"security",label:"Security"}].map((function(e){return Object(a.jsx)(b.a,{label:e.label,value:e.value},e.value)}))})}),Object(a.jsx)(d.a,{}),Object(a.jsxs)(l.a,{mt:3,children:["general"===s&&Object(a.jsx)(V,{}),"security"===s&&Object(a.jsx)(Z,{})]})]})})}te.Guard=m.a,te.Layout=Q.a;t.default=te},iae6:function(e,t,r){"use strict";var a=r("wx14"),n=r("Ff2n"),s=r("q1tI"),c=(r("17x9"),r("iuhU")),i=r("H2TA"),o=r("NqtD"),l=44,u=s.forwardRef((function(e,t){var r=e.classes,i=e.className,u=e.color,b=void 0===u?"primary":u,d=e.disableShrink,j=void 0!==d&&d,p=e.size,m=void 0===p?40:p,O=e.style,f=e.thickness,h=void 0===f?3.6:f,y=e.value,v=void 0===y?0:y,x=e.variant,g=void 0===x?"indeterminate":x,w=Object(n.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),P={},k={},E={};if("determinate"===g||"static"===g){var S=2*Math.PI*((l-h)/2);P.strokeDasharray=S.toFixed(3),E["aria-valuenow"]=Math.round(v),P.strokeDashoffset="".concat(((100-v)/100*S).toFixed(3),"px"),k.transform="rotate(-90deg)"}return s.createElement("div",Object(a.a)({className:Object(c.a)(r.root,i,"inherit"!==b&&r["color".concat(Object(o.a)(b))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[g]),style:Object(a.a)({width:m,height:m},k,O),ref:t,role:"progressbar"},E,w),s.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(l," ").concat(l)},s.createElement("circle",{className:Object(c.a)(r.circle,j&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[g]),style:P,cx:l,cy:l,r:(l-h)/2,fill:"none",strokeWidth:h})))}));t.a=Object(i.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u)},jT3O:function(e,t,r){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,"a",(function(){return a}))},mymT:function(e,t,r){"use strict";var a=r("q1tI"),n=r("5AJ6");t.a=Object(n.a)(a.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},nGCP:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return r("cdae")}])},"oa/T":function(e,t,r){"use strict";var a=r("wx14"),n=r("Ff2n"),s=r("q1tI"),c=(r("17x9"),r("iuhU")),i=r("H2TA"),o=s.forwardRef((function(e,t){var r=e.classes,i=e.className,o=e.component,l=void 0===o?"div":o,u=Object(n.a)(e,["classes","className","component"]);return s.createElement(l,Object(a.a)({className:Object(c.a)(r.root,i),ref:t},u))}));t.a=Object(i.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(o)},"sn/O":function(e,t,r){"use strict";var a=r("nKUr"),n=r("cpVT"),s=r("dhJC"),c=r("ADg1"),i=r("r9w1"),o=r("Spdj"),l=r("NKCw"),u=r("eRyV");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.name,r=e.label,n=void 0===r?"":r,b=e.helperText,j=void 0===b?"":b,p=e.errorObj,m=void 0===p?{}:p,O=Object(s.a)(e,["name","label","helperText","errorObj"]),f=Object(l.useFormContext)().control,h=Object(l.useController)({name:t,control:f}).field,y=h.ref,v=Object(s.a)(h,["ref"]),x=Object(u.a)(t,m),g=x.isError,w=x.errorMessage;return Object(a.jsxs)(c.a,{fullWidth:!0,error:g,children:[Object(a.jsx)(i.a,d(d({},v),{},{inputRef:y,label:n,fullWidth:!0,error:g},O)),(j||g)&&Object(a.jsx)(o.a,{error:g,children:g?w:j})]})}},sxe4:function(e,t,r){"use strict";var a=r("cpVT"),n=r("nKUr"),s=r("dhJC"),c=(r("q1tI"),r("R/WZ")),i=r("tRbT"),o=r("Sgle"),l=r("ofer"),u=r("bo4g"),b=r.n(u),d=r("iuhU"),j=r("frks");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=Object(c.a)((function(e){return{root:{}}}));t.a=function(e){var t=e.className,r=e.links,a=void 0===r?[]:r,c=e.mainText,u=void 0===c?"":c,p=e.rightComponent,f=void 0===p?Object(n.jsx)(n.Fragment,{}):p,h=Object(s.a)(e,["className","links","mainText","rightComponent"]),y=O();return Object(n.jsxs)(i.a,m(m({className:Object(d.a)(y.root,t),container:!0,justify:"space-between",spacing:3},h),{},{children:[Object(n.jsxs)(i.a,{item:!0,children:[Object(n.jsxs)(o.a,{separator:Object(n.jsx)(b.a,{fontSize:"small"}),"aria-label":"breadcrumb",children:[a.slice(0,-1).map((function(e){var t=e.title,r=e.href;return Object(n.jsx)(j.a,{variant:"body1",color:"inherit",href:r,component:j.a,children:t},t)})),Object(n.jsx)(l.a,{variant:"body1",color:"textPrimary",children:a[a.length-1].title})]}),Object(n.jsx)(l.a,{variant:"h3",color:"textPrimary",children:u})]}),Object(n.jsx)(i.a,{item:!0,children:f})]}))}}},[["nGCP",1,0,4,2,3,5,6,7,8,9,10,11,13,31]]]);