_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[61],{"7EvY":function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/create",function(){return t("XIO8")}])},"8z3N":function(e,r,t){"use strict";var n=t("vJKn"),a=t.n(n),c=t("nKUr"),o=t("cpVT"),i=t("rg98"),s=t("xvhg"),u=t("dhJC"),l=t("q1tI"),b=t.n(l),j=t("vDqi"),p=t.n(j),O=t("ADg1"),d=t("r9w1"),f=t("iae6"),m=t("Spdj"),h=t("+bXu"),x=t("NKCw"),g=t("eRyV");function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){Object(o.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.a=function(e){var r=e.name,t=e.label,n=void 0===t?"":t,o=e.errorObj,l=void 0===o?{}:o,j=Object(u.a)(e,["name","label","errorObj"]),v=Object(x.useFormContext)().control,w=Object(x.useController)({name:r,control:v}).field,P=w.ref,C=w.onChange,N=Object(u.a)(w,["ref","onChange"]),E=b.a.useState(!1),D=Object(s.a)(E,2),S=D[0],q=D[1],k=b.a.useState([]),I=Object(s.a)(k,2),T=I[0],K=I[1],R=b.a.useState(!1),_=Object(s.a)(R,2),A=_[0],J=_[1],F=Object(g.a)(r,l),M=F.isError,V=F.errorMessage;function W(){return(W=Object(i.a)(a.a.mark((function e(r){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.next=3,p.a.get("http://localhost:1337/suppliers");case 3:t=e.sent,console.log(t),K(t.data.map((function(e){return{id:e.id,name:e.supplierName}}))),J(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b.a.useEffect((function(){S||K([])}),[S]),Object(c.jsxs)(O.a,{fullWidth:!0,error:M,children:[Object(c.jsx)(h.a,y(y({},N),{},{ref:P,open:S,options:T,loading:A,onOpen:function(){return q(!0)},onClose:function(){return q(!1)},onChange:function(e,r){console.log(r),C(r)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,r){return e.name==r.name},renderOption:function(e){return Object(c.jsx)("span",{children:e.name})},renderInput:function(e){return Object(c.jsx)(d.a,y(y({},e),{},{label:n,variant:"outlined",error:M,onChange:function(e){return function(e){return W.apply(this,arguments)}(e.target.value)},InputProps:y(y({},e.InputProps),{},{endAdornment:Object(c.jsxs)(c.Fragment,{children:[A?Object(c.jsx)(f.a,{size:25}):null,e.InputProps.endAdornment]})})}))}},j)),M&&Object(c.jsx)(m.a,{error:!0,children:V})]})}},XIO8:function(e,r,t){"use strict";t.r(r);var n=t("nKUr"),a=(t("q1tI"),t("R/WZ")),c=t("Ji2X"),o=t("hlFM"),i=t("sxe4"),s=t("79WI"),u=t("Mya6"),l=t("vJKn"),b=t.n(l),j=t("rg98"),p=t("cpVT"),O=t("dhJC"),d=t("30+C"),f=t("oa/T"),m=t("tRbT"),h=t("Spdj"),x=t("iae6"),g=t("Z3vd"),v=t("bgvd"),y=t("iuhU"),w=t("NKQG"),P=t("NKCw"),C=t("UGp+"),N=(t("MMHs"),t("sn/O")),E=t("oA3x"),D=t("8z3N"),S=t("vDqi"),q=t.n(S);function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?k(Object(t),!0).forEach((function(r){Object(p.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var T=Object(a.a)((function(){return{root:{}}})),K=C.c().shape({partNo:C.e().max(255).required("Required."),brand:C.e().max(255).required("Required."),name:C.e().max(255).required("Required."),description:C.e().max(255),price:C.b().required("Required."),discount:C.e().max(255),currency:C.c(),supplierName:C.c()});var R=function(e){var r=e.className,t=Object(O.a)(e,["className"]),a=T(),c=Object(w.b)().enqueueSnackbar,i=Object(P.useForm)({mode:"all",resolver:Object(v.yupResolver)(K),defaultValues:{partNo:"",brand:"",name:"",description:"",price:"",discount:0,submitError:"",supplierName:""}}),s=i.handleSubmit,u=i.errors,l=i.setError,p=i.setValue,C=i.reset,S=(i.watch,i.formState.isSubmitting);return Object(n.jsx)(P.FormProvider,I(I({},i),{},{children:Object(n.jsx)("form",I(I({className:Object(y.a)(a.root,r),onSubmit:s((function(e){return k.apply(this,arguments)}))},t),{},{children:Object(n.jsx)(d.a,{children:Object(n.jsxs)(f.a,{children:[Object(n.jsxs)(m.a,{container:!0,spacing:3,children:[Object(n.jsx)(m.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(N.a,{name:"partNo",label:"Part #",variant:"outlined",errorObj:u})}),Object(n.jsx)(m.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(N.a,{name:"brand",label:"Brand",variant:"outlined",errorObj:u})}),Object(n.jsx)(m.a,{item:!0,md:12,xs:12,children:Object(n.jsx)(N.a,{name:"name",label:"Name",variant:"outlined",errorObj:u})}),Object(n.jsx)(m.a,{item:!0,md:12,xs:12,children:Object(n.jsx)(N.a,{name:"description",label:"Description",variant:"outlined",multiline:!0,rows:3,errorObj:u})}),Object(n.jsx)(m.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(N.a,{name:"price",label:"Price ",type:"number",variant:"outlined",errorObj:u})}),Object(n.jsx)(m.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(E.a,{name:"currency",label:"currency ",variant:"outlined",errorObj:u})}),Object(n.jsx)(m.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(D.a,{name:"supplierName",label:"supplier",variant:"outlined",errorObj:u})}),Object(n.jsx)(m.a,{item:!0,md:3,xs:12,children:Object(n.jsx)(N.a,{name:"discount",label:"Discount",variant:"outlined",errorObj:u})})]}),u.submitError&&Object(n.jsx)(o.a,{mt:1,display:"flex",justifyContent:"center",children:Object(n.jsx)(h.a,{style:{fontSize:"24px"},error:!0,children:u.submitError.message})}),Object(n.jsx)(o.a,{mt:5,display:"flex",justifyContent:"flex-end",children:S?Object(n.jsx)(x.a,{}):Object(n.jsx)(g.a,{variant:"contained",color:"secondary",type:"submit",disabled:S,children:"Create"})})]})})}))}));function k(){return(k=Object(j.a)(b.a.mark((function e(r){var t,n,a,o,i,s,u,j,O;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.partNo,n=r.brand,a=r.name,o=r.description,i=r.price,s=r.currency,u=r.supplierName,j=r.discount,e.prev=1,p("submitError",""),O={partNumber:t,partName:a,brand:n,discount:j,desc:o,price:i,currency:s.id,supplier:u.id},console.log(O),e.next=7,q.a.post("http://localhost:1337/products",O).then((function(){C(),c("Product created successfully.",{variant:"success"})})).catch((function(){c("Error creating new product.",{variant:"error"})}));case 7:e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),c("Error creating new product.",{variant:"error"}),l("submitError",{type:"submit",message:"Error creating new product."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}},_=t("1DBx"),A=Object(a.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),J=[{title:"Dashboard",href:"/dashboard"},{title:"Management",href:"#"},{title:"Products",href:"/products"},{title:"Create"}];function F(){var e=A();return Object(n.jsxs)(s.a,{className:e.root,title:"Products - Create",children:[Object(n.jsx)(c.a,{maxWidth:!1,children:Object(n.jsx)(i.a,{links:J,mainText:"Create Product"})}),Object(n.jsx)(o.a,{mt:3,children:Object(n.jsx)(c.a,{maxWidth:"lg",children:Object(n.jsx)(R,{})})})]})}F.Guard=u.a,F.Layout=_.a;r.default=F},oA3x:function(e,r,t){"use strict";var n=t("vJKn"),a=t.n(n),c=t("nKUr"),o=t("cpVT"),i=t("rg98"),s=t("xvhg"),u=t("dhJC"),l=t("q1tI"),b=t.n(l),j=t("vDqi"),p=t.n(j),O=t("ADg1"),d=t("r9w1"),f=t("iae6"),m=t("Spdj"),h=t("+bXu"),x=t("NKCw"),g=t("eRyV");function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){Object(o.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.a=function(e){var r=e.name,t=e.label,n=void 0===t?"":t,o=e.errorObj,l=void 0===o?{}:o,j=Object(u.a)(e,["name","label","errorObj"]),v=Object(x.useFormContext)().control,w=Object(x.useController)({name:r,control:v}).field,P=w.ref,C=w.onChange,N=Object(u.a)(w,["ref","onChange"]),E=b.a.useState(!1),D=Object(s.a)(E,2),S=D[0],q=D[1],k=b.a.useState([]),I=Object(s.a)(k,2),T=I[0],K=I[1],R=b.a.useState(!1),_=Object(s.a)(R,2),A=_[0],J=_[1],F=Object(g.a)(r,l),M=F.isError,V=F.errorMessage;function W(){return(W=Object(i.a)(a.a.mark((function e(r){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.next=3,p.a.get("http://localhost:1337/Currencies");case 3:t=e.sent,console.log(t),K(t.data.map((function(e){return{id:e.id,name:e.name}}))),J(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b.a.useEffect((function(){S||K([])}),[S]),Object(c.jsxs)(O.a,{fullWidth:!0,error:M,children:[Object(c.jsx)(h.a,y(y({},N),{},{ref:P,open:S,options:T,loading:A,onOpen:function(){return q(!0)},onClose:function(){return q(!1)},onChange:function(e,r){console.log(r),C(r)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,r){return e.name==r.name},renderOption:function(e){return Object(c.jsx)("span",{children:e.name})},renderInput:function(e){return Object(c.jsx)(d.a,y(y({},e),{},{label:n,variant:"outlined",error:M,onChange:function(e){return function(e){return W.apply(this,arguments)}(e.target.value)},InputProps:y(y({},e.InputProps),{},{endAdornment:Object(c.jsxs)(c.Fragment,{children:[A?Object(c.jsx)(f.a,{size:25}):null,e.InputProps.endAdornment]})})}))}},j)),M&&Object(c.jsx)(m.a,{error:!0,children:V})]})}},"oa/T":function(e,r,t){"use strict";var n=t("wx14"),a=t("Ff2n"),c=t("q1tI"),o=(t("17x9"),t("iuhU")),i=t("H2TA"),s=c.forwardRef((function(e,r){var t=e.classes,i=e.className,s=e.component,u=void 0===s?"div":s,l=Object(a.a)(e,["classes","className","component"]);return c.createElement(u,Object(n.a)({className:Object(o.a)(t.root,i),ref:r},l))}));r.a=Object(i.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(s)},"sn/O":function(e,r,t){"use strict";var n=t("nKUr"),a=t("cpVT"),c=t("dhJC"),o=t("ADg1"),i=t("r9w1"),s=t("Spdj"),u=t("NKCw"),l=t("eRyV");function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){Object(a.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.a=function(e){var r=e.name,t=e.label,a=void 0===t?"":t,b=e.helperText,p=void 0===b?"":b,O=e.errorObj,d=void 0===O?{}:O,f=Object(c.a)(e,["name","label","helperText","errorObj"]),m=Object(u.useFormContext)().control,h=Object(u.useController)({name:r,control:m}).field,x=h.ref,g=Object(c.a)(h,["ref"]),v=Object(l.a)(r,d),y=v.isError,w=v.errorMessage;return Object(n.jsxs)(o.a,{fullWidth:!0,error:y,children:[Object(n.jsx)(i.a,j(j({},g),{},{inputRef:x,label:a,fullWidth:!0,error:y},f)),(p||y)&&Object(n.jsx)(s.a,{error:y,children:y?w:p})]})}}},[["7EvY",1,0,4,2,3,5,6,7,8,9,10,11,12,13,15,18]]]);