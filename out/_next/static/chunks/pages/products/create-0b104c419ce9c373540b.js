_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[63],{"7EvY":function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/create",function(){return t("XIO8")}])},XIO8:function(e,r,t){"use strict";t.r(r);var a=t("nKUr"),n=(t("q1tI"),t("R/WZ")),c=t("Ji2X"),i=t("hlFM"),s=t("sxe4"),o=t("79WI"),u=t("Mya6"),d=t("vJKn"),b=t.n(d),l=t("rg98"),j=t("cpVT"),p=t("dhJC"),m=t("30+C"),O=t("oa/T"),x=t("tRbT"),h=t("Spdj"),f=t("iae6"),v=t("Z3vd"),y=t("bgvd"),g=t("iuhU"),w=t("NKQG"),N=t("NKCw"),E=t("UGp+"),P=(t("MMHs"),t("sn/O")),_=t("oA3x"),q=t("8z3N"),C=t("vDqi"),k=t.n(C);function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(Object(t),!0).forEach((function(r){Object(j.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var R=Object(n.a)((function(){return{root:{}}})),T=E.c().shape({partNo:E.e().max(255).required("Required."),brand:E.e().max(255).required("Required."),name:E.e().max(255).required("Required."),description:E.e().max(255),price:E.b().required("Required."),discount:E.e().max(255),currency:E.c(),supplierName:E.c()});var J=function(e){var r=e.className,t=Object(p.a)(e,["className"]),n=R(),c=Object(w.b)().enqueueSnackbar,s=Object(N.useForm)({mode:"all",resolver:Object(y.yupResolver)(T),defaultValues:{partNo:"",brand:"",name:"",description:"",price:"",discount:0,submitError:"",supplierName:""}}),o=s.handleSubmit,u=s.errors,d=s.setError,j=s.setValue,E=s.reset,C=(s.watch,s.formState.isSubmitting);return Object(a.jsx)(N.FormProvider,S(S({},s),{},{children:Object(a.jsx)("form",S(S({className:Object(g.a)(n.root,r),onSubmit:o((function(e){return D.apply(this,arguments)}))},t),{},{children:Object(a.jsx)(m.a,{children:Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(x.a,{container:!0,spacing:3,children:[Object(a.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(P.a,{name:"partNo",label:"Part #",variant:"outlined",errorObj:u})}),Object(a.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(P.a,{name:"brand",label:"Brand",variant:"outlined",errorObj:u})}),Object(a.jsx)(x.a,{item:!0,md:12,xs:12,children:Object(a.jsx)(P.a,{name:"name",label:"Name",variant:"outlined",errorObj:u})}),Object(a.jsx)(x.a,{item:!0,md:12,xs:12,children:Object(a.jsx)(P.a,{name:"description",label:"Description",variant:"outlined",multiline:!0,rows:3,errorObj:u})}),Object(a.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(P.a,{name:"price",label:"Price ",type:"number",variant:"outlined",errorObj:u})}),Object(a.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(_.a,{name:"currency",label:"currency ",variant:"outlined",errorObj:u})}),Object(a.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(q.a,{name:"supplierName",label:"supplier",variant:"outlined",errorObj:u})}),Object(a.jsx)(x.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(P.a,{name:"discount",label:"Discount",variant:"outlined",errorObj:u})})]}),u.submitError&&Object(a.jsx)(i.a,{mt:1,display:"flex",justifyContent:"center",children:Object(a.jsx)(h.a,{style:{fontSize:"24px"},error:!0,children:u.submitError.message})}),Object(a.jsx)(i.a,{mt:5,display:"flex",justifyContent:"flex-end",children:C?Object(a.jsx)(f.a,{}):Object(a.jsx)(v.a,{variant:"contained",color:"secondary",type:"submit",disabled:C,children:"Create"})})]})})}))}));function D(){return(D=Object(l.a)(b.a.mark((function e(r){var t,a,n,i,s,o,u,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.partNo,a=r.brand,n=r.name,i=r.description,s=r.price,o=r.currency,u=r.supplierName,l=r.discount,e.prev=1,j("submitError",""),p={partNumber:t,partName:n,brand:a,discount:l,desc:i,price:s,currency:o.id,supplier:u.id},console.log(p),e.next=7,k.a.post("Currencies/products",p).then((function(){E(),c("Product created successfully.",{variant:"success"})})).catch((function(){c("Error creating new product.",{variant:"error"})}));case 7:e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),c("Error creating new product.",{variant:"error"}),d("submitError",{type:"submit",message:"Error creating new product."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}},M=t("1DBx"),X=Object(n.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),I=[{title:"Dashboard",href:"/dashboard"},{title:"Management",href:"#"},{title:"Products",href:"/products"},{title:"Create"}];function K(){var e=X();return Object(a.jsxs)(o.a,{className:e.root,title:"Products - Create",children:[Object(a.jsx)(c.a,{maxWidth:!1,children:Object(a.jsx)(s.a,{links:I,mainText:"Create Product"})}),Object(a.jsx)(i.a,{mt:3,children:Object(a.jsx)(c.a,{maxWidth:"lg",children:Object(a.jsx)(J,{})})})]})}K.Guard=u.a,K.Layout=M.a;r.default=K}},[["7EvY",1,0,4,2,3,5,6,7,8,9,10,11,12,13,15,19,34]]]);