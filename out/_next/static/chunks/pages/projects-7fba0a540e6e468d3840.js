_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[66],{AwZY:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return r("gjpc")}])},L3CC:function(e,t,r){"use strict";var n=r("nKUr"),c=r("cpVT"),a=r("dhJC"),o=r("R/WZ"),i=r("ye/S"),s=r("iuhU");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=Object(o.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(i.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(i.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(i.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(i.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(i.c)(e.palette.warning.main,.08)}}}));t.a=function(e){var t=e.className,r=void 0===t?"":t,o=e.color,i=void 0===o?"secondary":o,l=e.children,u=Object(a.a)(e,["className","color","children"]),b=d();return Object(n.jsx)("span",j(j({className:Object(s.a)(b.root,Object(c.a)({},b[i],i),r)},u),{},{children:l}))}},dNeG:function(e,t,r){"use strict";var n=r("cpVT"),c=r("nKUr"),a=r("dhJC"),o=(r("q1tI"),r("R/WZ")),i=r("IIOH"),s=r("tRbT"),l=r("1NhI"),j=r("ofer"),d=r("iae6"),u=r("Z3vd"),b=r("HR5l"),p=r("iuhU"),O=r("JoNN"),h=r("wHH0"),f=r("KcsI");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=Object(o.a)((function(e){return{root:{padding:e.spacing(2)},actions:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > * + *":{marginLeft:e.spacing(2)}}}}));t.a=function(e){var t=e.className,r=e.onDelete,n=void 0===r?function(){}:r,o=e.onMarkActive,m=void 0===o?function(){}:o,y=e.onMarkInactive,v=void 0===y?function(){}:y,w=e.open,k=void 0!==w&&w,P=e.selected,S=e.isLoading,C=void 0!==S&&S,D=Object(a.a)(e,["className","onDelete","onMarkActive","onMarkInactive","open","selected","isLoading"]),I=g();return Object(c.jsx)(i.a,{anchor:"bottom",open:k,PaperProps:{elevation:1},variant:"persistent",children:Object(c.jsx)("div",x(x({className:Object(p.a)(I.root,t)},D),{},{children:Object(c.jsxs)(s.a,{alignItems:"center",container:!0,spacing:2,children:[Object(c.jsx)(l.a,{smDown:!0,children:Object(c.jsx)(s.a,{item:!0,md:3,children:Object(c.jsxs)(j.a,{color:"textSecondary",variant:"subtitle1",children:[P.length," selected"]})})}),Object(c.jsx)(s.a,{item:!0,md:6,xs:12,children:Object(c.jsx)("div",{className:I.actions,children:C?Object(c.jsx)(d.a,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.a,{onClick:m,startIcon:Object(c.jsx)(b.a,{fontSize:"small",children:Object(c.jsx)(O.a,{})}),children:"Mark Active"}),Object(c.jsx)(u.a,{onClick:v,startIcon:Object(c.jsx)(b.a,{fontSize:"small",children:Object(c.jsx)(h.a,{})}),children:"Mark Inactive"}),Object(c.jsx)(u.a,{onClick:n,startIcon:Object(c.jsx)(b.a,{fontSize:"small",children:Object(c.jsx)(f.a,{})}),children:"Delete"})]})})})]})}))})}},gjpc:function(e,t,r){"use strict";r.r(t);var n=r("nKUr"),c=r("vJKn"),a=r.n(c),o=r("rg98"),i=r("xvhg"),s=r("q1tI"),l=r.n(s),j=r("20a2"),d=r("R/WZ"),u=r("Ji2X"),b=r("Z3vd"),p=r("HR5l"),O=r("hlFM"),h=r("EBQD"),f=r("sxe4"),m=r("79WI"),x=r("Mya6"),g=r("cpVT"),y=r("dhJC"),v=r("30+C"),w=r("tRbT"),k=r("wb2y"),P=r("/EAt"),S=r("Imu7"),C=r("sRsu"),D=r("3PeG"),I=r("VmPI"),N=r("iae6"),E=r("Uf6+"),R=r("PsDL"),_=r("ELmG"),T=r("kfFl"),L=r("bgvd"),A=r("UGp+"),M=r("iuhU"),q=r("NKQG"),F=r("KcsI"),W=r("Fn3X"),z=r("lHIJ"),J=r("cuOD"),G=r.n(J),H=(r("L3CC"),r("frks")),K=r("2Wm+"),U=r("dNeG"),V=r("NKCw"),B=r("YpyM"),Z=r("sn/O"),X=r("e5va"),Y=r("vDqi"),Q=r.n(Y);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Object(g.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te=Object(d.a)((function(){return{root:{}}})),re=A.c().shape({filter:A.c().shape({label:A.e(),id:A.e()}).nullable(),search:A.e()}),ne=[{label:"Name",id:"name"},{label:"Customer",id:"customer.firstName"},{label:"Status",id:"status"},{label:"Scope",id:"scope"}];var ce=function(e){var t=e.className,r=e.query,c=e.setquery,s=Object(y.a)(e,["className","query","setquery"]),j=te(),d=Object(q.b)().enqueueSnackbar,u=l.a.useState(!1),h=Object(i.a)(u,2),f=h[0],m=h[1],x=l.a.useState({}),g=Object(i.a)(x,2),A=g[0],J=g[1],Y=l.a.useState(!1),$=Object(i.a)(Y,2),ce=$[0],ae=($[1],Object(K.a)({query:r})),oe=ae.selectedItems,ie=ae.isAllItemsSelected,se=ae.isSomeItemsSelected,le=ae.page,je=ae.limit,de=ae.hasNext,ue=ae.hasPrev,be=ae.isLoading,pe=(ae.setSelectedItems,ae.enableBulkOperations),Oe=ae.handleSelectAllItems,he=ae.handleSelectOneItem,fe=ae.handlePageChange,me=ae.handleLimitChange,xe=Object(V.useForm)({mode:"all",resolver:Object(L.yupResolver)(re),defaultValues:{filter:ne[0],search:""}}),ge=xe.handleSubmit,ye=xe.errors,ve=xe.setError,we=xe.setValue,ke=(xe.reset,xe.watch,xe.formState.isSubmitting);return Object(n.jsxs)("div",ee(ee({className:Object(M.a)(j.root,t)},s),{},{children:[Object(n.jsxs)(v.a,{children:[Object(n.jsx)(V.FormProvider,ee(ee({},xe),{},{children:Object(n.jsx)("form",ee(ee({onSubmit:ge(Se),className:Object(M.a)(j.root,t)},s),{},{children:Object(n.jsxs)(w.a,{container:!0,spacing:3,alignItems:"center",style:{paddingTop:"1rem",margin:"auto"},children:[Object(n.jsx)(w.a,{item:!0,xs:4,children:Object(n.jsx)(B.a,{options:ne,name:"filter",label:"Filter",variant:"outlined",setValue:we,errorObj:ye})}),Object(n.jsx)(w.a,{item:!0,md:4,xs:6,children:Object(n.jsx)(Z.a,{name:"search",label:"Search",variant:"outlined",errorObj:ye})}),Object(n.jsxs)(w.a,{item:!0,xs:4,children:[Object(n.jsx)(b.a,{variant:"contained",color:"secondary",type:"button",disabled:ke,onClick:ge(Se),children:"Search"}),Object(n.jsx)(b.a,{variant:"outlined",type:"button",color:"secondary",style:{marginLeft:"1rem"},disabled:ke,onClick:function(){!function(){Pe.apply(this,arguments)}()},children:"reset"})]})]})}))})),Object(n.jsx)(k.a,{}),Object(n.jsx)(G.a,{children:Object(n.jsx)(O.a,{minWidth:700,children:Object(n.jsxs)(P.a,{children:[Object(n.jsx)(S.a,{children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(D.a,{padding:"checkbox",children:Object(n.jsx)(I.a,{checked:ie,indeterminate:se,onChange:Oe})}),Object(n.jsx)(D.a,{children:"Name"}),Object(n.jsx)(D.a,{children:"Customer"}),Object(n.jsx)(D.a,{children:"Status"}),Object(n.jsx)(D.a,{children:"Scope"}),Object(n.jsx)(D.a,{children:"Start Date"}),Object(n.jsx)(D.a,{children:"End Date"}),Object(n.jsx)(D.a,{align:"right",children:"Actions"})]})}),be?Object(n.jsx)(O.a,{display:"flex",justifyContent:"center",mt:4,children:Object(n.jsx)(N.a,{})}):Object(n.jsx)(E.a,{children:r.map((function(e){var t=oe.includes(e.id);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(C.a,{hover:!0,selected:-1!==oe.indexOf(e.id),children:[Object(n.jsx)(D.a,{padding:"checkbox",children:Object(n.jsx)(I.a,{checked:t,onChange:function(t){return he(t,e.id)},value:t})}),Object(n.jsx)(D.a,{children:e.name}),Object(n.jsxs)(D.a,{children:[e.customer.firstName," ",e.customer.lastName]}),Object(n.jsx)(D.a,{children:e.status}),Object(n.jsx)(D.a,{children:e.project_scope.scope}),Object(n.jsx)(D.a,{children:e.startDate}),Object(n.jsx)(D.a,{children:e.endDate}),Object(n.jsxs)(D.a,{align:"right",children:[Object(n.jsx)(R.a,{onClick:function(){return t={id:e.id,name:e.name},m(!0),void J(t);var t},children:Object(n.jsx)(p.a,{fontSize:"small",children:Object(n.jsx)(F.a,{})})}),Object(n.jsx)(R.a,{component:H.a,href:"/projects/".concat(e.id,"/edit"),children:Object(n.jsx)(p.a,{fontSize:"small",children:Object(n.jsx)(W.a,{})})}),Object(n.jsx)(R.a,{component:H.a,href:"/projects/".concat(e.id),children:Object(n.jsx)(p.a,{fontSize:"small",children:Object(n.jsx)(z.a,{})})})]})]},e.id)})}))})]})})}),Object(n.jsx)(_.a,{component:"div",count:-1,onChangePage:fe,onChangeRowsPerPage:me,page:le,rowsPerPage:je,rowsPerPageOptions:[5,10,25],nextIconButtonProps:{disabled:!de},backIconButtonProps:{disabled:!ue},labelDisplayedRows:function(e){var t=e.from;return 0==r.length?"0-0":"".concat(t,"-").concat(t+r.length-1)}})]}),Object(n.jsx)(U.a,{open:pe,selected:oe,isLoading:ce,onMarkActive:function(){},onMarkInactive:function(){},onDelete:function(){}}),Object(n.jsx)(T.a,{open:f,children:Object(n.jsx)(X.a,{setOpenDialoge:m,deletedValue:A.name,runFunction:function(){return De.apply(this,arguments)}})})]}));function Pe(){return(Pe=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{Q.a.get("".concat("https://dry-journey-56904.herokuapp.com","/projects?_where[isDeleted]=0")).then((function(e){c(e.data)}))}catch(t){}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(o.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.filter,n=t.search;try{we("submitError",""),Q.a.get("".concat("https://dry-journey-56904.herokuapp.com","/projects?_where[").concat(r.id,"]=").concat(n,"&[isDeleted]=0")).then((function(e){console.log(e.data),c(e.data),d("Filter applied",{variant:"success"})})).catch((function(e){d("Error in filtering",{variant:"error"}),console.log(e)}))}catch(a){d("Error in filtering",{variant:"error"}),console.log(a),ve("submitError",{type:"submit",message:"Error creating new product."})}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.a.put("".concat("https://dry-journey-56904.herokuapp.com","/projects/").concat(A.id),{isDeleted:1}).then((function(e){c(r.filter((function(e){return e.id!=A.id})))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},ae=r("Txxr"),oe=r("1DBx"),ie=Object(d.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),se=[{title:"Dashboard",href:"/dashboard"},{title:"Management",href:"#"},{title:"Projects"}];function le(){var e=ie(),t=Object(j.useRouter)(),r=Object(ae.a)(),c=l.a.useState([]),s=Object(i.a)(c,2),d=s[0],x=s[1],g=l.a.useCallback(Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get("".concat("https://dry-journey-56904.herokuapp.com","/projects?_where[isDeleted]=0"));case 3:t=e.sent,n=t.data,r.current&&x(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[r]);return l.a.useEffect((function(){g()}),[g]),Object(n.jsx)(m.a,{className:e.root,title:"Projects - All",children:Object(n.jsxs)(u.a,{maxWidth:!1,children:[Object(n.jsx)(f.a,{links:se,mainText:"All Projects",rightComponent:Object(n.jsx)(b.a,{color:"secondary",variant:"contained",onClick:function(){return t.push("/projects/create")},className:e.action,startIcon:Object(n.jsx)(p.a,{fontSize:"small",children:Object(n.jsx)(h.a,{})}),children:"New Project"})}),Object(n.jsx)(O.a,{mt:3,children:Object(n.jsx)(ce,{query:d,setquery:x})})]})})}le.Guard=x.a,le.Layout=oe.a;t.default=le},lHIJ:function(e,t,r){"use strict";var n=r("q1tI"),c=r.n(n),a=r("17x9"),o=r.n(a);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}var l=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,o=void 0===a?24:a,l=s(e,["color","size"]);return c.a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),c.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),c.a.createElement("polyline",{points:"12 5 19 12 12 19"}))}));l.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},l.displayName="ArrowRight",t.a=l}},[["AwZY",1,0,4,2,3,5,6,7,8,9,10,11,12,13,14,16,18]]]);