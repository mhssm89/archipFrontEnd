(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{"D/BJ":function(e,t,r){"use strict";var n=r("vJKn"),c=r.n(n),o=r("nKUr"),a=r("cpVT"),s=r("rg98"),i=r("xvhg"),u=r("dhJC"),l=r("q1tI"),b=r.n(l),j=r("vDqi"),p=r.n(j),O=r("ADg1"),d=r("r9w1"),f=r("iae6"),h=r("Spdj"),m=r("+bXu"),g=r("NKCw"),x=r("eRyV");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.name,r=e.label,n=void 0===r?"":r,a=e.errorObj,l=void 0===a?{}:a,j=Object(u.a)(e,["name","label","errorObj"]),v=Object(g.useFormContext)().control,w=Object(g.useController)({name:t,control:v}).field,P=w.ref,C=w.onChange,S=Object(u.a)(w,["ref","onChange"]),D=b.a.useState(!1),q=Object(i.a)(D,2),N=q[0],k=q[1],E=b.a.useState([]),B=Object(i.a)(E,2),J=B[0],R=B[1],A=b.a.useState(!1),I=Object(i.a)(A,2),T=I[0],K=I[1],U=Object(x.a)(t,l),V=U.isError,F=U.errorMessage;function W(){return(W=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.next=3,p.a.get("http://localhost:1337/poqs");case 3:r=e.sent,R(r.data.map((function(e){return{id:e.id,name:e.Name,customer:e.customer.firstName+" "+e.customer.lastName,customerId:e.customer.id,grandtotal:e.grandTotal,shippingAddress:e.shippingAddress,shippingcost:e.shippingCost,othercost:e.otherCost,vat:e.vat,productTotalCost:e.productTotalcost,subtotal:e.subtotal,totaldiscount:e.totalDiscount,profit:e.profit}}))),K(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b.a.useEffect((function(){N||R([])}),[N]),Object(o.jsxs)(O.a,{fullWidth:!0,error:V,children:[Object(o.jsx)(m.a,y(y({},S),{},{ref:P,open:N,options:J,loading:T,onOpen:function(){return k(!0)},onClose:function(){return k(!1)},onChange:function(e,t){C(t)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name==t.name},renderOption:function(e){return Object(o.jsx)("span",{children:e.name})},renderInput:function(e){return Object(o.jsx)(d.a,y(y({},e),{},{label:n,variant:"outlined",error:V,onChange:function(e){return function(e){return W.apply(this,arguments)}(e.target.value)},InputProps:y(y({},e.InputProps),{},{endAdornment:Object(o.jsxs)(o.Fragment,{children:[T?Object(o.jsx)(f.a,{size:25}):null,e.InputProps.endAdornment]})})}))}},j)),V&&Object(o.jsx)(h.a,{error:!0,children:F})]})}},"U/Ho":function(e,t,r){"use strict";var n=r("cpVT"),c=r("nKUr"),o=r("vJKn"),a=r.n(o),s=r("rg98"),i=r("xvhg"),u=r("dhJC"),l=r("q1tI"),b=r.n(l),j=r("R/WZ"),p=r("tRbT"),O=r("ofer"),d=r("30+C"),f=r("50B7"),h=r("wb2y"),m=r("/EAt"),g=r("Uf6+"),x=r("sRsu"),v=r("3PeG"),y=r("hlFM"),w=r("Spdj"),P=r("Z3vd"),C=r("iuhU"),S=r("bgvd"),D=r("NKCw"),q=r("UGp+");r("ADg1"),r("r9w1"),r("iae6"),r("+bXu"),r("eRyV");var N=r("D/BJ");function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=Object(j.a)((function(){return{root:{},buttonreset:{marginRight:15,backgroundColor:"#be2f29"}}})),J=q.c().shape({poqnumber:q.b().required("Required."),poqname:q.c()});var R=function(e){var t=e.className,r=(e.customer,e.onChange),n=Object(u.a)(e,["className","customer","onChange"]),o=B(),i=Object(D.useForm)({mode:"all",resolver:Object(S.yupResolver)(J),defaultValues:{poqnumber:"",poqname:null}}),l=i.handleSubmit,b=i.errors,j=i.setError,p=i.reset,O=i.getValues,d=(i.formState.isSubmitting,function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r(O("poqname")),p()}catch(t){console.error(t),j("submitError",{type:"submit",message:t.message})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r(O("poqname")),Object(c.jsx)(D.FormProvider,E(E({},i),{},{children:Object(c.jsx)("form",E(E({onSubmit:l(d),className:Object(C.a)(o.root,t)},n),{},{children:Object(c.jsx)(N.a,{label:"BOQ #",name:"poqname",margin:"normal",variant:"outlined",errorObj:b})}))}))},A=r("vDqi"),I=r.n(A);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=Object(j.a)((function(e){return{root:{},stepButton:{"& + &":{marginLeft:e.spacing(2)},fontWeightMedium:{fontWeight:e.typography.fontWeightMedium}}}}));t.a=function(e){var t=e.className,r=e.handlePoq,n=e.onBack,o=void 0===n?function(){}:n,l=e.onNext,j=void 0===l?function(){}:l,S=Object(u.a)(e,["className","handlePoq","onBack","onNext"]),D=U(),q=b.a.useState(!1),N=Object(i.a)(q,2),k=N[0],E=N[1],B=b.a.useState(null),J=Object(i.a)(B,2),A=J[0],T=J[1],V=b.a.useState(null),F=Object(i.a)(V,2),W=F[0],_=F[1],z=function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,E(!0),!W){e.next=8;break}return e.next=6,I.a.get("http://localhost:1337/poqdetails?_where[poq]=".concat(W.id));case 6:e.sent,r(W);case 8:j&&j(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),T(e.t0.message);case 15:return e.prev=15,E(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(t){return e.apply(this,arguments)}}();return console.log(W),Object(c.jsxs)("form",K(K({onSubmit:z,className:Object(C.a)(D.root,t)},S),{},{children:[Object(c.jsxs)(p.a,{container:!0,spacing:2,children:[Object(c.jsx)(p.a,{item:!0,xs:8,children:Object(c.jsx)(O.a,{variant:"h3",mb:3,children:"Select B.O.Q"})}),Object(c.jsx)(p.a,{item:!0,xs:8,children:Object(c.jsx)(R,{onChange:_})}),Object(c.jsx)(p.a,{item:!0,xs:6,children:Object(c.jsxs)(d.a,{children:[Object(c.jsx)(f.a,{title:"P.O.Q Summery"}),Object(c.jsx)(h.a,{}),Object(c.jsx)(m.a,{children:Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(x.a,{children:[Object(c.jsx)(v.a,{children:"Customer Name"}),W?Object(c.jsx)(v.a,{children:W.customer}):Object(c.jsx)(v.a,{children:" - "})]}),Object(c.jsxs)(x.a,{children:[Object(c.jsx)(v.a,{children:"Total Cost"}),W?Object(c.jsx)(v.a,{children:W.grandtotal}):Object(c.jsx)(v.a,{children:"0.00"})]})]})})]})})]}),A&&Object(c.jsx)(y.a,{mt:2,children:Object(c.jsx)(w.a,{error:!0,children:A})}),Object(c.jsxs)(y.a,{mt:6,display:"flex",children:[o&&Object(c.jsx)(P.a,{onClick:o,size:"large",children:"Previous"}),Object(c.jsx)(y.a,{flexGrow:1}),W?Object(c.jsx)(P.a,{color:"secondary",disabled:k,type:"submit",variant:"contained",size:"large",children:"Next"}):Object(c.jsx)(P.a,{color:"secondary",disabled:!0,type:"submit",variant:"contained",size:"large",children:"Next"})]})]}))}}}]);