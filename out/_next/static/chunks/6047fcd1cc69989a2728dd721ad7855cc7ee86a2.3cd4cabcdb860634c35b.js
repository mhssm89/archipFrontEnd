(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{Gw4x:function(e,t,r){"use strict";var n=r("nKUr"),a=r("q1tI"),o=r("R/WZ"),i=r("hlFM"),s=r("de8u"),c=r("Mj6V"),u=r.n(c),l=Object(o.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.background.default,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",minHeight:"100%",padding:e.spacing(3)}}}));t.a=function(){var e=l();return Object(a.useEffect)((function(){return u.a.start(),function(){u.a.done()}}),[]),Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(i.a,{width:400,children:Object(n.jsx)(s.a,{})})})}},JLc6:function(e,t,r){"use strict";var n=r("vJKn"),a=r.n(n),o=r("nKUr"),i=r("cpVT"),s=r("rg98"),c=r("xvhg"),u=r("dhJC"),l=r("q1tI"),d=r.n(l),b=r("vDqi"),m=r.n(b),p=r("ADg1"),f=r("r9w1"),j=r("iae6"),O=r("Spdj"),h=r("+bXu"),g=r("NKCw"),v=r("eRyV");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.name,r=e.label,n=void 0===r?"":r,i=e.errorObj,l=void 0===i?{}:i,b=Object(u.a)(e,["name","label","errorObj"]),y=Object(g.useFormContext)().control,P=Object(g.useController)({name:t,control:y}).field,w=P.ref,S=P.onChange,N=Object(u.a)(P,["ref","onChange"]),k=d.a.useState(!1),C=Object(c.a)(k,2),E=C[0],D=C[1],q=d.a.useState([]),T=Object(c.a)(q,2),I=T[0],R=T[1],M=d.a.useState(!1),U=Object(c.a)(M,2),K=U[0],F=U[1],A=Object(v.a)(t,l),J=A.isError,V=A.errorMessage;function W(){return(W=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,m.a.get("".concat("https://dry-journey-56904.herokuapp.com","/customer-categories"));case 3:r=e.sent,R(r.data.map((function(e){return{id:e.id,name:e.category}}))),F(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d.a.useEffect((function(){E||R([])}),[E]),Object(o.jsxs)(p.a,{fullWidth:!0,error:J,children:[Object(o.jsx)(h.a,x(x({},N),{},{ref:w,open:E,options:I,loading:K,onOpen:function(){return D(!0)},onClose:function(){return D(!1)},onChange:function(e,t){S(t)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name==t.name},renderOption:function(e){return Object(o.jsx)("span",{children:e.name})},renderInput:function(e){return Object(o.jsx)(f.a,x(x({},e),{},{label:n,variant:"outlined",error:J,onChange:function(e){return function(e){return W.apply(this,arguments)}(e.target.value)},InputProps:x(x({},e.InputProps),{},{endAdornment:Object(o.jsxs)(o.Fragment,{children:[K?Object(o.jsx)(j.a,{size:25}):null,e.InputProps.endAdornment]})})}))}},b)),J&&Object(o.jsx)(O.a,{error:!0,children:V})]})}},Mj6V:function(e,t,r){var n,a;void 0===(a="function"===typeof(n=function(){var e={version:"0.2.0"},t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(e,t,r){return e<t?t:e>r?r:e}function n(e){return 100*(-1+e)}function a(e,r,a){var o;return(o="translate3d"===t.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===t.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"}).transition="all "+r+"ms "+a,o}e.configure=function(e){var r,n;for(r in e)void 0!==(n=e[r])&&e.hasOwnProperty(r)&&(t[r]=n);return this},e.status=null,e.set=function(n){var s=e.isStarted();n=r(n,t.minimum,1),e.status=1===n?null:n;var c=e.render(!s),u=c.querySelector(t.barSelector),l=t.speed,d=t.easing;return c.offsetWidth,o((function(r){""===t.positionUsing&&(t.positionUsing=e.getPositioningCSS()),i(u,a(n,l,d)),1===n?(i(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){i(c,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){e.remove(),r()}),l)}),l)):setTimeout(r,l)})),this},e.isStarted=function(){return"number"===typeof e.status},e.start=function(){e.status||e.set(0);var r=function(){setTimeout((function(){e.status&&(e.trickle(),r())}),t.trickleSpeed)};return t.trickle&&r(),this},e.done=function(t){return t||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(t){var n=e.status;return n?("number"!==typeof t&&(t=(1-n)*r(Math.random()*n,.1,.95)),n=r(n+t,0,.994),e.set(n)):e.start()},e.trickle=function(){return e.inc(Math.random()*t.trickleRate)},function(){var t=0,r=0;e.promise=function(n){return n&&"resolved"!==n.state()?(0===r&&e.start(),t++,r++,n.always((function(){0===--r?(t=0,e.done()):e.set((t-r)/t)})),this):this}}(),e.render=function(r){if(e.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var a=document.createElement("div");a.id="nprogress",a.innerHTML=t.template;var o,s=a.querySelector(t.barSelector),u=r?"-100":n(e.status||0),l=document.querySelector(t.parent);return i(s,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),t.showSpinner||(o=a.querySelector(t.spinnerSelector))&&d(o),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(a),a},e.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(t.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&d(e)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var o=function(){var e=[];function t(){var r=e.shift();r&&r(t)}return function(r){e.push(r),1==e.length&&t()}}(),i=function(){var e=["Webkit","O","Moz","ms"],t={};function r(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function n(t){var r=document.body.style;if(t in r)return t;for(var n,a=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);a--;)if((n=e[a]+o)in r)return n;return t}function a(e){return e=r(e),t[e]||(t[e]=n(e))}function o(e,t,r){t=a(t),e.style[t]=r}return function(e,t){var r,n,a=arguments;if(2==a.length)for(r in t)void 0!==(n=t[r])&&t.hasOwnProperty(r)&&o(e,r,n);else o(e,a[1],a[2])}}();function s(e,t){return("string"==typeof e?e:l(e)).indexOf(" "+t+" ")>=0}function c(e,t){var r=l(e),n=r+t;s(r,t)||(e.className=n.substring(1))}function u(e,t){var r,n=l(e);s(e,t)&&(r=n.replace(" "+t+" "," "),e.className=r.substring(1,r.length-1))}function l(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e})?n.call(t,r,t,e):n)||(e.exports=a)},PxYC:function(e,t,r){"use strict";var n=r("vJKn"),a=r.n(n),o=r("rg98"),i=r("cpVT"),s=r("nKUr"),c=r("dhJC"),u=(r("q1tI"),r("R/WZ")),l=r("30+C"),d=r("oa/T"),b=r("tRbT"),m=r("hlFM"),p=r("Spdj"),f=r("iae6"),j=r("Z3vd"),O=r("bgvd"),h=r("iuhU"),g=r("NKQG"),v=r("NKCw"),y=r("UGp+"),x=r("vDqi"),P=r.n(x),w=r("sn/O"),S=r("20a2"),N=r("JLc6"),k=r("m+Hk");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=Object(u.a)((function(){return{root:{}}})),q=y.c().shape({firstName:y.e().max(255).required("Required."),lastName:y.e().max(255).required("Required."),company:y.e().max(255),position:y.e().max(255),email:y.e().email("Invalid email.").max(255).required("Required."),mobilePhone:y.e().min(11).max(11).required("Required."),businessPhone1:y.e(),category:y.c(),address:y.e().max(255),broker:y.c().nullable()});t.a=function(e){var t=e.className,r=e.customer,n=Object(c.a)(e,["className","customer"]),i=Object(S.useRouter)(),u=D(),y=Object(g.b)().enqueueSnackbar,x=Object(v.useForm)({mode:"all",resolver:Object(O.yupResolver)(q),defaultValues:{firstName:r.firstName||"",lastName:r.lastName||"",company:r.companyName||"",position:r.position||"",email:r.emailaddress||"",mobilePhone:r.phoneNumber||"",businessPhone1:r.businessPhone||"",category:r.customer_category&&{id:r.customer_category.id,name:r.customer_category.category}||"",address:r.address||"",submitError:"",broker:r.broker&&{id:"1",name:"".concat(r.broker.firstname," ").concat(r.broker.lastname)}||""}}),C=x.handleSubmit,T=x.errors,I=x.setError,R=x.setValue,M=x.formState,U=M.isSubmitting,K=M.isDirty;return M.dirtyFields,Object(s.jsx)(v.FormProvider,E(E({},x),{},{children:Object(s.jsx)("form",E(E({className:Object(h.a)(u.root,t),onSubmit:C((function(e){return F.apply(this,arguments)}))},n),{},{children:Object(s.jsx)(l.a,{children:Object(s.jsxs)(d.a,{children:[Object(s.jsxs)(b.a,{container:!0,spacing:3,children:[Object(s.jsx)(b.a,{item:!0,lg:12,spacing:6,children:Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(k.a,{name:"broker",label:"Broker",variant:"outlined",errorObj:T})})}),Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(w.a,{name:"firstName",label:"First Name",variant:"outlined",errorObj:T})}),Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(w.a,{name:"lastName",label:"Last Name",variant:"outlined",errorObj:T})}),Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(w.a,{name:"company",label:"Company Name",variant:"outlined",errorObj:T})}),Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(w.a,{name:"position",label:"Position",variant:"outlined",errorObj:T})}),Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(w.a,{name:"email",label:"Email Address",variant:"outlined",errorObj:T})}),Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(w.a,{name:"mobilePhone",label:"Phone Number",variant:"outlined",errorObj:T})}),Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(w.a,{name:"businessPhone1",label:"Business Phone Number ",variant:"outlined",errorObj:T})}),Object(s.jsx)(b.a,{item:!0,md:6,xs:12,children:Object(s.jsx)(N.a,{name:"category",label:"Category",variant:"outlined",errorObj:T})}),Object(s.jsx)(b.a,{item:!0,md:12,xs:12,children:Object(s.jsx)(w.a,{name:"address",label:"Address",variant:"outlined",errorObj:T})})]}),T.submitError&&Object(s.jsx)(m.a,{mt:1,display:"flex",justifyContent:"center",children:Object(s.jsx)(p.a,{style:{fontSize:"24px"},error:!0,children:T.submitError.message})}),Object(s.jsx)(m.a,{mt:5,display:"flex",justifyContent:"flex-end",children:U?Object(s.jsx)(f.a,{}):Object(s.jsx)(j.a,{variant:"contained",color:"secondary",type:"submit",disabled:U,children:"Save"})})]})})}))}));function F(){return(F=Object(o.a)(a.a.mark((function e(t){var r,n,o,s,c,u,l,d,b,m,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.firstName,n=t.lastName,o=t.company,s=t.position,c=t.email,u=t.mobilePhone,l=t.address,d=t.category,b=t.broker,e.prev=1,R("submitError",""),K){e.next=6;break}return y("No data changes.",{variant:"info"}),e.abrupt("return");case 6:return m=i.query.customerId,p={firstName:r,lastName:n,companyName:o,position:s,emailaddress:c,phoneNumber:u,customer_category:d.id,address:l,broker:b?b.id:null},e.next=10,P.a.put("".concat("https://dry-journey-56904.herokuapp.com","/customers/").concat(m),p).then((function(){y("Customer created successfully.",{variant:"success"})})).catch((function(){y("Error creating new customer.",{variant:"error"})}));case 10:e.sent,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),y("Error updating customer.",{variant:"error"}),I("submitError",{type:"submit",message:"Error updating customer."});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}}},"m+Hk":function(e,t,r){"use strict";var n=r("vJKn"),a=r.n(n),o=r("nKUr"),i=r("cpVT"),s=r("rg98"),c=r("xvhg"),u=r("dhJC"),l=r("q1tI"),d=r.n(l),b=r("vDqi"),m=r.n(b),p=r("ADg1"),f=r("r9w1"),j=r("iae6"),O=r("Spdj"),h=r("+bXu"),g=r("NKCw"),v=r("eRyV");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.name,r=e.label,n=void 0===r?"":r,i=e.errorObj,l=void 0===i?{}:i,b=Object(u.a)(e,["name","label","errorObj"]),y=Object(g.useFormContext)().control,P=Object(g.useController)({name:t,control:y}).field,w=P.ref,S=P.onChange,N=Object(u.a)(P,["ref","onChange"]),k=d.a.useState(!1),C=Object(c.a)(k,2),E=C[0],D=C[1],q=d.a.useState([]),T=Object(c.a)(q,2),I=T[0],R=T[1],M=d.a.useState(!1),U=Object(c.a)(M,2),K=U[0],F=U[1],A=Object(v.a)(t,l),J=A.isError,V=A.errorMessage;function W(){return(W=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,m.a.get("".concat("https://dry-journey-56904.herokuapp.com","/brokers?_where[isDeleted]=0&_limit=-1"));case 3:r=e.sent,console.log(r),R(r.data.map((function(e){return{id:e.id,name:e.firstname+" "+e.lastname}}))),F(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d.a.useEffect((function(){!function(e){W.apply(this,arguments)}()}),[E]),Object(o.jsxs)(p.a,{fullWidth:!0,error:J,children:[Object(o.jsx)(h.a,x(x({},N),{},{ref:w,open:E,options:I,loading:K,onOpen:function(){return D(!0)},onClose:function(){return D(!1)},onChange:function(e,t){console.log(t),S(t)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name==t.name},renderOption:function(e){return Object(o.jsx)("span",{children:e.name})},renderInput:function(e){return Object(o.jsx)(f.a,x(x({},e),{},{label:n,variant:"outlined",error:J,InputProps:x(x({},e.InputProps),{},{endAdornment:Object(o.jsxs)(o.Fragment,{children:[K?Object(o.jsx)(j.a,{size:25}):null,e.InputProps.endAdornment]})})}))}},b)),J&&Object(o.jsx)(O.a,{error:!0,children:V})]})}},"oa/T":function(e,t,r){"use strict";var n=r("wx14"),a=r("Ff2n"),o=r("q1tI"),i=(r("17x9"),r("iuhU")),s=r("H2TA"),c=o.forwardRef((function(e,t){var r=e.classes,s=e.className,c=e.component,u=void 0===c?"div":c,l=Object(a.a)(e,["classes","className","component"]);return o.createElement(u,Object(n.a)({className:Object(i.a)(r.root,s),ref:t},l))}));t.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(c)},"sn/O":function(e,t,r){"use strict";var n=r("nKUr"),a=r("cpVT"),o=r("dhJC"),i=r("ADg1"),s=r("r9w1"),c=r("Spdj"),u=r("NKCw"),l=r("eRyV");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.name,r=e.label,a=void 0===r?"":r,d=e.helperText,m=void 0===d?"":d,p=e.errorObj,f=void 0===p?{}:p,j=Object(o.a)(e,["name","label","helperText","errorObj"]),O=Object(u.useFormContext)().control,h=Object(u.useController)({name:t,control:O}).field,g=h.ref,v=Object(o.a)(h,["ref"]),y=Object(l.a)(t,f),x=y.isError,P=y.errorMessage;return Object(n.jsxs)(i.a,{fullWidth:!0,error:x,children:[Object(n.jsx)(s.a,b(b({},v),{},{inputRef:g,label:a,fullWidth:!0,error:x},j)),(m||x)&&Object(n.jsx)(c.a,{error:x,children:x?P:m})]})}}}]);