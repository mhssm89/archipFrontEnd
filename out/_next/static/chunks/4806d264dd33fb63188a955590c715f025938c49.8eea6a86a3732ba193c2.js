(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"D/BJ":function(e,t,r){"use strict";var n=r("vJKn"),a=r.n(n),c=r("nKUr"),o=r("cpVT"),s=r("rg98"),i=r("xvhg"),u=r("dhJC"),l=r("q1tI"),b=r.n(l),j=r("vDqi"),p=r.n(j),O=r("ADg1"),d=r("r9w1"),f=r("iae6"),h=r("Spdj"),m=r("+bXu"),g=r("NKCw"),x=r("eRyV");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.name,r=e.label,n=void 0===r?"":r,o=e.errorObj,l=void 0===o?{}:o,j=Object(u.a)(e,["name","label","errorObj"]),v=Object(g.useFormContext)().control,w=Object(g.useController)({name:t,control:v}).field,P=w.ref,S=w.onChange,C=Object(u.a)(w,["ref","onChange"]),D=b.a.useState(!1),q=Object(i.a)(D,2),N=q[0],k=q[1],E=b.a.useState([]),R=Object(i.a)(E,2),T=R[0],B=R[1],J=b.a.useState(!1),A=Object(i.a)(J,2),I=A[0],K=A[1],U=Object(x.a)(t,l),V=U.isError,_=U.errorMessage;function F(){return(F=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.next=3,p.a.get("".concat("http://localhost:1337","/poqs?_where[isDeleted]=0"));case 3:r=e.sent,B(r.data.map((function(e){return{id:e.id,name:e.Name,customer:e.customer.firstName+" "+e.customer.lastName,customerId:e.customer.id,grandtotal:e.grandTotal,shippingAddress:e.shippingAddress,shippingcost:e.shippingCost,othercost:e.otherCost,vat:e.vat,productTotalCost:e.productTotalcost,subtotal:e.subtotal,totaldiscount:e.totalDiscount,profit:e.profit,dollarTransferRate:e.dollarTransferRate,euroTransferRate:e.euroTransferRate}}))),K(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b.a.useEffect((function(){!function(e){F.apply(this,arguments)}()}),[N]),Object(c.jsxs)(O.a,{fullWidth:!0,error:V,children:[Object(c.jsx)(m.a,y(y({},C),{},{ref:P,open:N,options:T,loading:I,onOpen:function(){return k(!0)},onClose:function(){return k(!1)},onChange:function(e,t){S(t)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name==t.name},renderOption:function(e){return Object(c.jsx)("span",{children:e.name})},renderInput:function(e){return Object(c.jsx)(d.a,y(y({},e),{},{label:n,variant:"outlined",error:V,InputProps:y(y({},e.InputProps),{},{endAdornment:Object(c.jsxs)(c.Fragment,{children:[I?Object(c.jsx)(f.a,{size:25}):null,e.InputProps.endAdornment]})})}))}},j)),V&&Object(c.jsx)(h.a,{error:!0,children:_})]})}},"U/Ho":function(e,t,r){"use strict";var n=r("cpVT"),a=r("nKUr"),c=r("vJKn"),o=r.n(c),s=r("rg98"),i=r("xvhg"),u=r("dhJC"),l=r("q1tI"),b=r.n(l),j=r("R/WZ"),p=r("tRbT"),O=r("ofer"),d=r("30+C"),f=r("50B7"),h=r("wb2y"),m=r("/EAt"),g=r("Uf6+"),x=r("sRsu"),v=r("3PeG"),y=r("hlFM"),w=r("Spdj"),P=r("Z3vd"),S=r("iuhU"),C=r("bgvd"),D=r("NKCw"),q=r("UGp+");r("ADg1"),r("r9w1"),r("iae6"),r("+bXu"),r("eRyV");var N=r("D/BJ");function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=Object(j.a)((function(){return{root:{},buttonreset:{marginRight:15,backgroundColor:"#be2f29"}}})),T=q.c().shape({poqnumber:q.b().required("Required."),poqname:q.c()});var B=function(e){var t=e.className,r=(e.customer,e.onChange),n=Object(u.a)(e,["className","customer","onChange"]),c=R(),i=Object(D.useForm)({mode:"all",resolver:Object(C.yupResolver)(T),defaultValues:{poqnumber:"",poqname:null}}),l=i.handleSubmit,b=i.errors,j=i.setError,p=i.reset,O=i.getValues,d=(i.formState.isSubmitting,function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r(O("poqname")),p()}catch(t){console.error(t),j("submitError",{type:"submit",message:t.message})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r(O("poqname")),Object(a.jsx)(D.FormProvider,E(E({},i),{},{children:Object(a.jsx)("form",E(E({onSubmit:l(d),className:Object(S.a)(c.root,t)},n),{},{children:Object(a.jsx)(N.a,{label:"BOQ #",name:"poqname",margin:"normal",variant:"outlined",errorObj:b})}))}))},J=r("vDqi"),A=r.n(J);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=Object(j.a)((function(e){return{root:{},stepButton:{"& + &":{marginLeft:e.spacing(2)},fontWeightMedium:{fontWeight:e.typography.fontWeightMedium}}}}));t.a=function(e){var t=e.className,r=e.handlePoq,n=e.onBack,c=void 0===n?function(){}:n,l=e.onNext,j=void 0===l?function(){}:l,C=Object(u.a)(e,["className","handlePoq","onBack","onNext"]),D=U(),q=b.a.useState(!1),N=Object(i.a)(q,2),k=N[0],E=N[1],R=b.a.useState(null),T=Object(i.a)(R,2),J=T[0],I=T[1],V=b.a.useState(null),_=Object(i.a)(V,2),F=_[0],W=_[1],z=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,E(!0),!F){e.next=8;break}return e.next=6,A.a.get("".concat("http://localhost:1337","/poqdetails?_where[poq]=").concat(F.id));case 6:e.sent,r(F);case 8:j&&j(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),I(e.t0.message);case 15:return e.prev=15,E(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(t){return e.apply(this,arguments)}}();return console.log(F),Object(a.jsxs)("form",K(K({onSubmit:z,className:Object(S.a)(D.root,t)},C),{},{children:[Object(a.jsxs)(p.a,{container:!0,spacing:2,children:[Object(a.jsx)(p.a,{item:!0,xs:8,children:Object(a.jsx)(O.a,{variant:"h3",mb:3,children:"Select B.O.Q"})}),Object(a.jsx)(p.a,{item:!0,xs:8,children:Object(a.jsx)(B,{onChange:W})}),Object(a.jsx)(p.a,{item:!0,xs:6,children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(f.a,{title:"P.O.Q Summery"}),Object(a.jsx)(h.a,{}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(g.a,{children:[Object(a.jsxs)(x.a,{children:[Object(a.jsx)(v.a,{children:"Customer Name"}),F?Object(a.jsx)(v.a,{children:F.customer}):Object(a.jsx)(v.a,{children:" - "})]}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(v.a,{children:"Total Cost"}),F?Object(a.jsx)(v.a,{children:F.grandtotal}):Object(a.jsx)(v.a,{children:"0.00"})]})]})})]})})]}),J&&Object(a.jsx)(y.a,{mt:2,children:Object(a.jsx)(w.a,{error:!0,children:J})}),Object(a.jsxs)(y.a,{mt:6,display:"flex",children:[c&&Object(a.jsx)(P.a,{onClick:c,size:"large",children:"Previous"}),Object(a.jsx)(y.a,{flexGrow:1}),F?Object(a.jsx)(P.a,{color:"secondary",disabled:k,type:"submit",variant:"contained",size:"large",children:"Next"}):Object(a.jsx)(P.a,{color:"secondary",disabled:!0,type:"submit",variant:"contained",size:"large",children:"Next"})]})]}))}}}]);